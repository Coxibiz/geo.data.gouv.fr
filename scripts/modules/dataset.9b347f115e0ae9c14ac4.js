webpackJsonp([1],{239:function(e,t){e.exports={container:"Warning-O7ea_aHj",content:"Warning-2QVDaWsV",warning:"Warning-3Z9IZ77-",errorStyle:"Warning-3mGNopTL",bold:"Warning-1U4yMY_L",closeIcon:"Warning-3HYFmxrs"}},243:function(e,t){e.exports={avatar:"Message-3CTNH3Sy",message:"Message-36zsC5o5",header:"Message-3mKhHLfV",userName:"Message-clumRAAh",postedOn:"Message-3mY8k0Wp",content:"Message-RibvsdWg"}},244:function(e,t){e.exports={discussionForm:"DiscussionForm-2AUBi9eC",commentInput:"DiscussionForm-3zaPlc4f",avatar:"DiscussionForm-3kgnWVSb"}},245:function(e,t){e.exports={container:"Discussion-qYgyIsc0",resolved:"Discussion-nxTxAhNL",title:"Discussion-2x8E_MGX",action:"Discussion-28G4smRv",form:"Discussion-2upSdVWd",replies:"Discussion-GBqs4R4e",answer:"Discussion-4zcv1G70"}},246:function(e,t){e.exports={container:"DatasetBlock-1tG6o0TG",title:"DatasetBlock-1LNtN1Jx"}},247:function(e,t){e.exports={container:"DatasetHeader-PFBfgNzF",title:"DatasetHeader-27Kw0tfC",section:"DatasetHeader-rmJ2kYUG",head:"DatasetHeader-3NH2dLEk",inspireThemeHead:"DatasetHeader-3ElSQcnZ",resume:"DatasetHeader-2CcVszfa",theme:"DatasetHeader--uTX8UxZ",infos:"DatasetHeader-3wuMv2ic"}},248:function(e,t){e.exports={container:"DatasetTechnicalInfo-15Ugqg4b",other:"DatasetTechnicalInfo-2AoXyx_Z"}},249:function(e,t,n){var a=n(208);e.exports=function(e,t){e=a(e),t=a(t);var n=t?e.lastIndexOf(t):-1;return~n?e.slice(n+t.length,e.length):e}},250:function(e,t){e.exports={download:"DatasetDownload-3L0I1j09",container:"DatasetDownload-305g8xLZ",title:"DatasetDownload-3hGHZtla",formats:"DatasetDownload-mCJWRteK",viewerButton:"DatasetDownload-1stZovqV"}},261:function(e,t){e.exports={container:"DatasetPreview-1WJYMnqb",loader:"DatasetPreview-2PYMLen8",buttons:"DatasetPreview-2tOkc4v3",active:"DatasetPreview-qJnswmsq",closeButton:"DatasetPreview-1Rydtzk4",wrapper:"DatasetPreview-2Sf9O6wT",map:"DatasetPreview-1MDJeSEJ",table:"DatasetPreview-2vmlmH9o",reactableCurrentPage:"DatasetPreview-1dKC3wNk"}},262:function(e,t){e.exports={container:"DatasetLinks-3_4LBWHX"}},263:function(e,t){e.exports={facets:"DatasetFilters-2W3axeQZ",group:"DatasetFilters-2UJt8zmw"}},264:function(e,t){e.exports={container:"DatasetProducer-1FmjOG-Y"}},265:function(e,t){e.exports={container:"DatasetThumbnails-jmiKjVuB",image:"DatasetThumbnails-oARyckq8",list:"DatasetThumbnails-33WczBfs",selected:"DatasetThumbnails-Pwk7WvU0",thumbContainer:"DatasetThumbnails-3Z0-C4E8"}},266:function(e,t){e.exports={container:"DatasetSpatialExtent-1aAe3258",map:"DatasetSpatialExtent-DuIQbGM2"}},267:function(e,t){e.exports={check:"Check-3oCz64ku",content:"Check-2F5icD5n"}},268:function(e,t){e.exports={checklist:"DatasetDataGouvPublication-28PCBWTm",highlight:"DatasetDataGouvPublication-24fv9Huu"}},269:function(e,t){e.exports={label:"DatasetContactLabel-1tq7oTGw",processor:"DatasetContactLabel-1eKqiDfA",resourceProvider:"DatasetContactLabel-3wAi_g0O",principalInvestigator:"DatasetContactLabel-1S9N0sNu",publisher:"DatasetContactLabel-32_9YyqH",owner:"DatasetContactLabel-1PuANBAf",author:"DatasetContactLabel-1LW1mSPf",custodian:"DatasetContactLabel-HExhwrCj",user:"DatasetContactLabel-1QBMi-ZW",distributor:"DatasetContactLabel-2kd5WVFt",originator:"DatasetContactLabel-Vkpp56ZK",pointOfContact:"DatasetContactLabel-pgtUMbDs",sponsor:"DatasetContactLabel-2UeyI84v",notDefined:"DatasetContactLabel-1J6O9Cn9",other:"DatasetContactLabel-1PKFyNzB"}},270:function(e,t){e.exports={header:"DatasetContact-PNfbkRi3",name:"DatasetContact-3d8DcY1b",contact:"DatasetContact-38GSgzdd"}},271:function(e,t){e.exports={wrapper:"DatasetContactList-1f7ubzb4"}},272:function(e,t){e.exports={container:"DatasetView-1W2A7OlZ",inner:"DatasetView-2sIVBGK8",main:"DatasetView-cAJsoZii",aside:"DatasetView-3TnRls9c"}},273:function(e,t){e.exports={loader:"DatasetPage-a6Y8XFMF"}},274:function(e,t,n){function a(e){return n(r(e))}function r(e){var t=o[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}var o={"./en.json":275,"./fr.json":276};a.keys=function(){return Object.keys(o)},a.resolve=r,e.exports=a,a.id=274},275:function(e,t){e.exports={components:{CheckDataAvailability:{distributionAvailable:"At least one of the distributions is available.",distributionUnavailable:"No distribution found.",title:"Data availability"},CheckLicense:{licensesList:"Recognized licenses are",noLicenses:"No licenses could be found.",validLicense:"The {{ license }} license is valid.",unrecognizedLicense:"The {{ license }} license was not recognized.",title:"License"},CheckProducers:{identifiedProducer:"At least one producer is identified.",unindentifiedProducer:"The producer has not been identified.",title:"Producer"},DatasetContactLabel:{resourceProvider:"Resource provider",custodian:"Custodian",owner:"Owner",user:"User",distributor:"Distributor",originator:"Originator",pointOfContact:"Point of contact",processor:"Processor",publisher:"Publisher",author:"Author",notDefined:"Unknown",other:"Other",principalInvestigator:"Principal investigator",sponsor:"Sponsor"},DatasetDataGouvPublication:{dvgLink:"See dataset on data.gouv.fr",canBePublished:"This dataset <1>can</1> be published on data.gouv.fr",producerActionNeeded:"An action of the producer is necessary.",cantBePublished:"This dataset <1>can not</1> be published on data.gouv.fr",hide:"Hide details",show:"Show details"},DatasetDownload:{title:"Download",unavailable:"Unavailable",buttonText:"Display"},DatasetDownloadList:{vectorDataTitle:"Vector data",otherDataTitle:"Other data"},DatasetFilters:{organizationsTitle:"Organizations",keywordsTitle:"Keywords"},DatasetHeader:{type:"Type",license:"License",lastUpdate:"Last update",purpose:"Purpose",dataOrigin:"Data origin"},DatasetPreview:{map:"Map",table:"Table"},DatasetTechnicalInfo:{lifeCycleTitle:"Data life cycle (according to producer)",updateFrequency:"Update frequency",creationDate:"Creation date",revisionDate:"Last update",otherTitle:"Other information",topicCategory:"Dataset category",type:"Type",license:"License",status:"Status",scale:"Scale",resolution:"Resolution"},DatasetView:{obsoleteWarning:"This dataset is considered {{status}} by its producer",noLinks:"No links available.",noDownloads:"No data is available for download.",consequences:{obsolete:"Data may be incomplete or out of date",underDevelopment:"Some data may be inaccurate or will change"},section:{technicalInformation:"Technical Information",downloads:"Downloads",links:"Links",discussions:"Discussions",filters:"Filters",producer:"Producer",preview:"Data preview",spatialExtent:"Spatial Extent",dgvPublication:"Publication on data.gouv.fr",contacts:"Contacts",contributions:"Contributions"},id:"Dataset ID"}},enums:{status:{completed:"completed",historicalArchive:"archived",obsolete:"obsolete",onGoing:"on going",planned:"planned",required:"update required",underDevelopment:"under development"}}}},276:function(e,t){e.exports={components:{CheckDataAvailability:{distributionAvailable:"Au moins une des distribution est disponible.",distributionUnavailable:"Aucune distribution n’a été trouvée.",title:"Disponibilité de la donnée"},CheckLicense:{licensesList:"Les licenses reconnue sont",noLicenses:"Aucune licence n’a pu être trouvée.",validLicense:"La licence {{ license }} est valide.",unrecognizedLicense:"La licence {{ license }} n’est pas reconnue.",title:"Licence"},CheckProducers:{identifiedProducer:"Au moins un producteur est identifié.",unindentifiedProducer:"Le producteur n’a pas été identifié.",title:"Producteur"},DatasetContactLabel:{resourceProvider:"Fournisseur",custodian:"Résponsable",owner:"Propriétaire",user:"Utilisateur",distributor:"Distributeur",originator:"Initiateur",pointOfContact:"Point de contact",processor:"Intervenant technique",publisher:"Diffuseur",author:"Auteur",notDefined:"Inconnu",other:"Autre",principalInvestigator:"Directeur de recherche",sponsor:"Financeur"},DatasetDataGouvPublication:{dvgLink:"Consulter le jeu de données sur data.gouv.fr",canBePublished:"Ce jeu de données <1>peut</1> être publié sur data.gouv.fr",producerActionNeeded:"Une action du producteur est nécessaire.",cantBePublished:"Ce jeu de données <1>ne peut pas</1> être publié sur data.gouv.fr",hide:"Masquer le détail",show:"Afficher le détail"},DatasetDownload:{title:"Télécharger",unavailable:"Indisponible",buttonText:"Visualiser"},DatasetDownloadList:{vectorDataTitle:"Données vectorielles",otherDataTitle:"Autres Données"},DatasetFilters:{organizationsTitle:"Organisations",keywordsTitle:"Mots-clés"},DatasetHeader:{type:"Type",license:"Licence",lastUpdate:"Dernière mise à jour",purpose:"Objectif",dataOrigin:"Origine de la donnée"},DatasetPreview:{map:"Carte",table:"Tableau"},DatasetTechnicalInfo:{lifeCycleTitle:"Cycle de vie de la donnée (selon producteur)",updateFrequency:"Fréquence de mise à jour",creationDate:"Date de création",revisionDate:"Dernière mise à jour",otherTitle:"Autres informations",topicCategory:"Catégorie du jeu de données",type:"Type",license:"Licence",status:"État",scale:"Échelle",resolution:"Résolution"},DatasetView:{obsoleteWarning:"Attention ce jeu de données est considéré comme {{status}} par son producteur",noLinks:"Aucun lien disponible.",noDownloads:"Aucune donnée n’est téléchargeable.",consequences:{obsolete:"Les données peuvent être incomplètes ou ne plus être à jour",underDevelopment:"Certaines données peuvent être erronées ou vont subir des changements"},section:{technicalInformation:"Informations techniques",downloads:"Téléchargements",links:"Liens",discussions:"Discussions",filters:"Filtres",producer:"Producteur",preview:"Aperçu des données",spatialExtent:"Étendue spatiale",dgvPublication:"Publication sur data.gouv.fr",contacts:"Contacts",contributions:"Contributions"},id:"Identifiant du jeu de données"}},enums:{status:{completed:"terminée",historicalArchive:"archivée",obsolete:"obsolète",onGoing:"en cours",planned:"planifiée",required:"mise à jour requise",underDevelopment:"en construction"}}}},371:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function m(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function b(e){return!(!e||!Je[e])}function v(e){return e?b(e)?Je[e]:"inconnue":"non déterminée"}function h(e){return!!(e&&e.length>0)}function E(e){return!(!e||!e.some(function(e){return e.available}))}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function D(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function w(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function O(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function T(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function P(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function C(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function j(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function k(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function S(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function N(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function A(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function I(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function L(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function G(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function x(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function U(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function F(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function R(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function V(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function H(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function W(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function z(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function J(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0});var M=n(204),q=n(46),B=n(45),K=n(89),Y=Object({NODE_ENV:"production",PUBLIC_URL:"https://inspire.data.gouv.fr",DATAGOUV_API_URL:"https://inspire.data.gouv.fr/dgv/proxy-api/1",DATAGOUV_API_KEY:"",PUBLICATION_API_URL:"https://inspire.data.gouv.fr/dgv/api",INSPIRE_API_URL:"https://inspire.data.gouv.fr/api/geogw",PIWIK_URL:"https://stats.data.gouv.fr",PIWIK_SITE_ID:"32"}),Z=Y.INSPIRE_API_URL,X=Y.DATAGOUV_API_URL,Q=function(e){return function(t){return t({type:"DATASETS_GET_PENDING"}),Object(K.b)(Z+"/records/"+e).then(function(e){t({type:"DATASETS_GET_SUCCESS",payload:e})}).catch(function(e){t({type:"DATASETS_GET_FAILURE",error:e})})}},$=function(e){return function(t){return t({type:"DATASETS_GET_PUBLICATION_PENDING"}),Object(K.b)(Z+"/records/"+e+"/publications").then(function(e){t({type:"DATASETS_GET_PUBLICATION_SUCCESS",payload:e.find(function(e){return"dgv"===e.target})})}).catch(function(e){t({type:"DATASETS_GET_PUBLICATION_FAILURE",error:e})})}},ee=function(e){return function(t){return t({type:"DATASETS_DATA_GOUV_GET_PENDING"}),Object(K.b)(X+"/datasets/"+e+"/").then(function(e){t({type:"DATASETS_DATA_GOUV_GET_SUCCESS",payload:e})}).catch(function(e){t({type:"DATASETS_DATA_GOUV_GET_FAILURE",error:e})})}},te=function(e){return function(t){return t({type:"DATASETS_FETCH_GEOJSON_PENDING"}),Object(K.b)(e+"?format=GeoJSON&projection=WGS84").then(function(e){if(!e.features||!e.features.length)throw new Error("Les données sont vides");t({type:"DATASETS_FETCH_GEOJSON_SUCCESS",payload:e})}).catch(function(e){t({type:"DATASETS_FETCH_GEOJSON_FAILURE",error:e})})}},ne=n(0),ae=n(1),re=n.n(ae),oe=n(13),ie=n(3),se=n(26),le=n(239),ce=n.n(le),ue=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),de=function(e){function t(){var e,n,o,i;a(this,t);for(var s=arguments.length,l=Array(s),c=0;c<s;c++)l[c]=arguments[c];return n=o=r(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),o.state={displayed:!0},o.closeWarning=function(){o.setState({displayed:!1})},i=n,r(o,i)}return o(t,e),ue(t,[{key:"render",value:function(){if(this.state.displayed){var e=this.props,t=e.error,n=e.title,a=e.children,r=t?ce.a.errorStyle:ce.a.warning;return ne.default.createElement("div",{className:ce.a.container+" "+r},ne.default.createElement("div",{className:ce.a.content},ne.default.createElement("div",{className:ce.a.bold},n),a),ne.default.createElement("div",{className:ce.a.closeIcon,onClick:this.closeWarning},ne.default.createElement("i",{className:"big remove icon"})))}}}]),t}(ne.default.PureComponent);de.defaultProps={error:!1};var fe=de,pe=fe,me=n(203),be=(n(212),n(217),function(e){var t=e.user,n=e.children,a="https://inspire.data.gouv.fr"+window.location.pathname,r="https://inspire.data.gouv.fr/dgv/login?redirect="+encodeURIComponent(a);return t?ne.default.createElement("div",{style:{width:"100%"}},n):ne.default.createElement("div",null,ne.default.createElement("a",{href:r},ne.default.createElement(me.a,{text:"Se connecter"})),ne.default.createElement("a",{href:"https://id.data.gouv.fr/register/"},ne.default.createElement(me.a,{text:"Créer un compte"})))}),ve=be,he=n(7),Ee=n.n(he),ye=n(90),ge=n(243),De=n.n(ge),we=function(e){var t=e.message;return ne.default.createElement("div",{className:De.a.message},ne.default.createElement("a",{href:t.posted_by.page},ne.default.createElement("img",{className:De.a.avatar,src:t.posted_by.avatar||"/assets/avatar.png",alt:"avatar"})),ne.default.createElement("div",{className:De.a.content},ne.default.createElement("div",{className:De.a.header},ne.default.createElement("div",{className:De.a.userName},t.posted_by.first_name," ",t.posted_by.last_name),ne.default.createElement("div",{className:De.a.postedOn},Object(ye.a)(Ee()(t.posted_on).add(2,"hh")))),ne.default.createElement("div",null,t.content)))},Oe=we,_e=n(244),Te=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),Pe=function(e){function t(e){i(this,t);var n=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={title:"",comment:""},n}return l(t,e),Te(t,[{key:"onTitleChange",value:function(e){this.setState({title:e.target.value})}},{key:"onCommentChange",value:function(e){this.setState({comment:e.target.value})}},{key:"onKeyPress",value:function(e){"Enter"===e.key&&this.search()}},{key:"search",value:function(){var e=this.props,t=e.discussionId,n=e.replyMode,a=e.returForm,r=this.state,o=r.title,i=r.comment;n&&a(i,t),a(o,i,t)}},{key:"render",value:function(){var e=this,t=this.state,n=t.title,a=t.comment,r=this.props,o=r.user,i=r.replyMode,s=void 0!==i&&i,l=r.error,c=ne.default.createElement("input",{type:"text",value:n,onChange:function(t){return e.onTitleChange(t)},onKeyPress:function(t){return e.onKeyPress(t)},placeholder:"Titre"});return ne.default.createElement("div",{className:_e.discussionForm},l?ne.default.createElement("p",null,"Merci de préciser ",s?"":"le titre et"," le commentaire."):null,s?null:c,ne.default.createElement("div",{className:_e.commentInput},ne.default.createElement("img",{className:_e.avatar,src:o.avatar||"/assets/avatar.png",alt:"avatar"}),ne.default.createElement("textarea",{type:"textarea",value:a,onChange:function(t){return e.onCommentChange(t)},onKeyPress:function(t){return e.onKeyPress(t)},placeholder:"Commentaire"})),ne.default.createElement(me.a,{action:function(){return e.search()},text:s?"Répondre":"Démarrer une discussion"}))}}]),t}(ne.Component),Ce=Pe,je=n(245),ke=n.n(je),Se=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),Ne=function(e){function t(e){c(this,t);var n=u(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={more:!1,replyInput:!1},n}return d(t,e),Se(t,[{key:"extendsHandle",value:function(e){e.stopPropagation(),this.setState({replyInput:!1,more:!this.state.more})}},{key:"replyForm",value:function(){this.setState({more:!0,replyInput:!0})}},{key:"newReply",value:function(e,t){this.setState({replyInput:!1}),this.props.returForm(e,t)}},{key:"render",value:function(){var e=this,t=this.state,n=t.more,a=t.replyInput,r=this.props,o=r.discussion,i=r.user,s=r.formError,l=o.discussion.map(function(e,t){return ne.default.createElement(Oe,{key:t,message:e})}),c=o.discussion.length-1,u=void 0;u=c?1===c?"1 réponse":c+" réponses":null;var d=a?ne.default.createElement(ve,{user:i},ne.default.createElement(Ce,{replyMode:!0,user:i,discussionId:o.id,error:s,returForm:function(t,n){return e.newReply(t,n)}})):ne.default.createElement(me.a,{action:function(){return e.replyForm()},text:"Répondre"});return ne.default.createElement("div",{className:ke.a.container},o.closed?ne.default.createElement("div",{className:ke.a.resolved},ne.default.createElement("i",{className:"checkmark icon"})):null,ne.default.createElement("div",{className:ke.a.title},o.title),ne.default.createElement("div",{className:ke.a.messages},n?l:ne.default.createElement(Oe,{message:o.discussion[0]}),ne.default.createElement("div",{className:a?ke.a.form:ke.a.action},n||!c?d:null,ne.default.createElement("div",{className:ke.a.replies,onClick:function(t){return e.extendsHandle(t)}},n?"Fermer":u))))}}]),t}(ne.Component),Ae=Ne,Ie=n(43),Le=n(44),Ge=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),xe=function(e){function t(e){f(this,t);var n=p(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={discussionForm:!1,formError:!1,errors:[]},n}return m(t,e),Ge(t,[{key:"componentWillMount",value:function(){return Promise.all([this.updateDiscussions(),this.updateUser()])}},{key:"updateUser",value:function(){return Object(Le.c)(Object(Ie.p)(),this,"user")}},{key:"updateDiscussions",value:function(){var e=this.props.remoteId;if(e)return Object(Le.c)(Object(Ie.k)(e),this,"discussions")}},{key:"componentWillUnmount",value:function(){return Object(Le.a)(this)}},{key:"showDiscussionForm",value:function(){this.setState({discussionForm:!0})}},{key:"createDiscussion",value:function(e,t,n){var a=this,r=this.props.remoteId;if(!e||!t)return this.setState({formError:!0});var o={title:e,comment:t,subject:{id:r,class:"Dataset"}};Object(Ie.b)(o,n).then(function(e){var t=a.state.discussions;t.data.push(e),a.setState({discussions:t,discussionForm:!1,formError:!1})})}},{key:"createReply",value:function(e,t){var n=this;if(!e)return this.setState({formError:!0});Object(Ie.c)({comment:e},t).then(function(){n.updateDiscussions(),n.setState({discussionForm:!1,formError:!1})})}},{key:"render",value:function(){var e=this,t=this.state,n=t.discussions,a=t.discussionForm,r=t.user,o=t.formError,i=this.props.remoteId;return ne.default.createElement("div",null,n?n.data.map(function(t,n){return ne.default.createElement(Ae,{key:n,user:r,formError:o,remoteId:i,discussion:t,returForm:function(t,n){return e.createReply(t,n)}})}):null,a?ne.default.createElement(ve,{user:r},ne.default.createElement(Ce,{user:r,error:o,returForm:function(t,n,a){return e.createDiscussion(t,n,a)}})):ne.default.createElement(me.a,{text:"Démarrer une nouvelle discussion",action:function(){return e.showDiscussionForm()}}))}}]),t}(ne.Component),Ue=xe,Fe=n(246),Re=n.n(Fe),Ve=function(e){var t=e.title,n=e.children;return ne.default.createElement("div",{className:Re.a.container},ne.default.createElement("h3",{className:Re.a.title},t),n)},He=Ve,We=He,ze=n(216),Je={"fr-lo":{name:"Licence Ouverte",link:"https://www.etalab.gouv.fr/licence-ouverte-open-licence"},"fr-loa":{name:"Licence Ouverte Administrations",link:"https://www.etalab.gouv.fr/nouvelle-licence-pour-la-reutilisation-des-informations-publiques-elements-de-clarification"},odbl:{name:"Open Database License (ODbL 1.0)",link:"https://vvlibri.org/fr/licence/odbl/10/fr"}},Me=n(247),qe=n.n(Me),Be=function(e){var t=e.dataset,n=e.t,a=t.metadata,r=a.title,o=a.description,i=a.type,s=a.purpose,l=a.lineage,c=a.inspireTheme,u=Object(ye.a)(t.revisionDate),d=v(t.metadata.license),f=n("Common:enums.dataTypes."+i,{defaultValue:i});return ne.default.createElement("div",{className:qe.a.container},ne.default.createElement("div",{className:c?qe.a.inspireThemeHead:qe.a.head},ne.default.createElement("div",{className:qe.a.resume},ne.default.createElement("h1",{className:qe.a.title},r),ne.default.createElement("div",{className:qe.a.infos},ne.default.createElement("div",null,n("components.DatasetHeader.type")," : ",ne.default.createElement("span",null,f||n("Common:enums.unknownData.unknown"))),ne.default.createElement("div",null,n("components.DatasetHeader.license")," : ",ne.default.createElement("span",null,d.name?ne.default.createElement("a",{href:d.link,target:"_blank"},d.name):d)),ne.default.createElement("div",null,n("components.DatasetHeader.lastUpdate")," : ",ne.default.createElement("span",null,u)))),c&&ne.default.createElement("div",{className:qe.a.theme},ne.default.createElement("div",null,ne.default.createElement("img",{src:"/assets/inspire-icons/"+c.id+".svg",alt:"inspire-theme-icon"})),ne.default.createElement("div",null,ne.default.createElement("a",{href:c.uri,target:"_blank"},c.label.fr)))),ne.default.createElement("div",{className:qe.a.section},ne.default.createElement("div",null,o&&ne.default.createElement(ze.a,{markdown:o}),ne.default.createElement("p",null,ne.default.createElement("b",null,n("components.DatasetHeader.purpose")," :")," ",s||n("Common:enums.unknownData.notSpecified")),ne.default.createElement("p",null,ne.default.createElement("b",null,n("components.DatasetHeader.dataOrigin")," :")," ",l||n("Common:enums.unknownData.notSpecified",{context:"female"})))))},Ke=Object(ie.translate)("Dataset")(Be),Ye=Ke,Ze=n(248),Xe=n.n(Ze),Qe=function(e){var t=e.dataset,n=e.status,a=e.t,r=(e.i18n,t.metadata),o=r.type,i=r.updateFrequency,s=r.creationDate,l=r.revisionDate,c=r.topicCategory,u=r.equivalentScaleDenominator,d=r.spatialResolution,f=v(t.metadata.license),p=i?a("Common:enums.frequencies."+i):a("Common:enums.unknownData.unknown",{context:"female"}),m=s?Ee()(s).format("DD/MM/YYYY"):a("Common:enums.unknownData.unknown",{context:"female"}),b=a("Common:enums.dataTypes."+o,{defaultValue:o}),h=a(["Common:enums.topicCategories."+c,"Common:enums.unknownData.notSpecified"],{context:"female"});return ne.default.createElement("div",{className:Xe.a.container},ne.default.createElement("div",null,ne.default.createElement("h4",null,a("components.DatasetTechnicalInfo.lifeCycleTitle")),ne.default.createElement("div",null,a("components.DatasetTechnicalInfo.updateFrequency")," : ",ne.default.createElement("b",null,p)),ne.default.createElement("div",null,a("components.DatasetTechnicalInfo.creationDate")," : ",ne.default.createElement("b",null,m)),ne.default.createElement("div",null,a("components.DatasetTechnicalInfo.revisionDate")," : ",ne.default.createElement("b",null,l?Object(ye.a)(l):m))),ne.default.createElement("div",{className:Xe.a.other},ne.default.createElement("h4",null,a("components.DatasetTechnicalInfo.otherTitle")),ne.default.createElement("div",null,a("components.DatasetTechnicalInfo.topicCategory")," : ",ne.default.createElement("b",null,h)),ne.default.createElement("div",null,a("components.DatasetTechnicalInfo.type")," : ",ne.default.createElement("b",null,b||a("Common:enums.unknownData.unknown"))),ne.default.createElement("div",null,a("components.DatasetTechnicalInfo.license")," : ",f.name?ne.default.createElement("a",{href:f.link},f.name):ne.default.createElement("b",null,f)),n&&ne.default.createElement("div",null,a("components.DatasetTechnicalInfo.status")," : ",ne.default.createElement("b",null,a("enums.status."+n))),u&&ne.default.createElement("div",null,a("components.DatasetTechnicalInfo.scale")," : ",ne.default.createElement("b",null,"1 / ",u)),d&&ne.default.createElement("div",null,a("components.DatasetTechnicalInfo.resolution")," : ",ne.default.createElement("b",null,d.value," ",d.unit))))},$e=Object(ie.translate)("Dataset")(Qe),et=$e,tt=n(249),nt=n.n(tt),at=n(250),rt=n.n(at),ot=[{label:"GeoJSON",format:"GeoJSON",projection:"WGS84"},{label:"SHP/L93",format:"SHP",projection:"Lambert93"},{label:"SHP/W84",format:"SHP",projection:"WGS84"},{label:"KML",format:"KML",projection:"WGS84"},{label:"CSV",format:"CSV",projection:"WGS84"}],it=function(e){var t=e.distribution,n=e.isPreview,a=e.setPreview,r=e.resetPreview,o=e.t,i=void 0,s=void 0;"file-package"===t.type&&(s=nt()(t.layer,"/"),i="https://inspire.data.gouv.fr/api/geogw/file-packages/"+t.hashedLocation+"/"+s+"/download"),"wfs-featureType"===t.type&&(i="https://inspire.data.gouv.fr/api/geogw/services/"+t.service+"/feature-types/"+t.typeName+"/download");var l=s||t.typeName;return ne.default.createElement("div",{className:rt.a.download},ne.default.createElement("div",{className:rt.a.title},l),ne.default.createElement("div",null,ne.default.createElement("div",{className:rt.a.container},ne.default.createElement("div",null,ne.default.createElement("div",null,o("components.DatasetDownload.title"),ne.default.createElement("i",{className:"download icon"})),ne.default.createElement("div",{className:rt.a.formats},t.available?ot.map(function(e,t){return ne.default.createElement("a",{key:t,href:i+"?format="+e.format+"&projection="+e.projection},e.label)}):ne.default.createElement("p",null,o("components.DatasetDownload.unavailable")))),t.available?ne.default.createElement("button",{className:rt.a.viewerButton,onClick:n?r:function(){return a({distribution:t,link:i})}},o("components.DatasetDownload.buttonText")," ",n&&ne.default.createElement("i",{className:"unhide icon"})):ne.default.createElement("button",{className:rt.a.viewerButton,disabled:!0},o("components.DatasetDownload.buttonText")))))};it.defaultProps={isPreview:!1};var st=Object(ie.translate)("Dataset")(it),lt=st,ct=n(126),ut=n(101),dt=n.n(ut),ft=dt()({loader:function(){return n.e(9).then(n.bind(null,372))},loading:oe.a}),pt=ft,mt=pt,bt=n(261),vt=n.n(bt),ht=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),Et=function(e){function t(){var e,n,a,r;y(this,t);for(var o=arguments.length,i=Array(o),s=0;s<o;s++)i[s]=arguments[s];return n=a=g(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),a.state={mode:"map"},a.setMode=function(e){return function(){a.setState({mode:e})}},a.getTableData=function(e){return e.features.map(function(e){var t=Object.assign({},e.properties);return delete t.gml_id,t})},r=n,g(a,r)}return D(t,e),ht(t,[{key:"render",value:function(){var e=this.props,t=e.geoJson,n=e.closePreview,a=e.t,r=this.state.mode;return ne.default.createElement("div",{className:vt.a.container},ne.default.createElement("div",{className:vt.a.buttons},ne.default.createElement("button",{onClick:this.setMode("map"),className:"map"===r&&vt.a.active},a("components.DatasetPreview.map")),ne.default.createElement("button",{onClick:this.setMode("table"),className:"table"===r&&vt.a.active},a("components.DatasetPreview.table")),ne.default.createElement("button",{className:vt.a.closeButton,onClick:n},"X")),ne.default.createElement(oe.a,{isLoading:t.pending,error:t.error,className:vt.a.loader},ne.default.createElement("div",{className:vt.a.wrapper},"map"===r?ne.default.createElement(mt,{vectors:t.data,className:vt.a.map,lat:47,lon:1,zoom:5.5}):ne.default.createElement(ct.Table,{data:t.data&&this.getTableData(t.data),className:vt.a.table,itemsPerPage:20,pageButtonLimit:20,sortable:!0}))))}}]),t}(ne.default.PureComponent),yt=Object(ie.translate)("Dataset")(Et),gt=yt,Dt=Object(B.connect)(function(e,t){return{preview:t.preview,closePreview:t.closePreview,geoJson:e.dataset.geoJson}})(gt);Dt.propTypes={preview:re.a.object.isRequired,closePreview:re.a.func.isRequired};var wt=Dt,Ot=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),_t=function(e){function t(){var e,n,a,r;w(this,t);for(var o=arguments.length,i=Array(o),s=0;s<o;s++)i[s]=arguments[s];return n=a=O(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),a.state={},a.setPreview=function(e){var t=e.distribution,n=e.link,r=a.props.fetchGeoJson;a.setState({preview:{distribution:t,link:n}}),r(n)},a.resetPreview=function(){a.setState({preview:null})},r=n,O(a,r)}return _(t,e),Ot(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.distributions,a=t.t,r=this.state.preview,o=n.filter(function(e){return!e.originalDistribution}),i=n.filter(function(e){return!0===e.originalDistribution});return ne.default.createElement("div",null,ne.default.createElement("div",null,o.length>0&&ne.default.createElement("div",null,ne.default.createElement("h4",null,a("components.DatasetDownloadList.vectorDataTitle")),o.map(function(t){return ne.default.createElement(lt,{key:t._id,distribution:t,isPreview:r&&r.distribution._id===t._id,setPreview:e.setPreview,resetPreview:e.resetPreview})})),i.length>0&&ne.default.createElement("div",null,ne.default.createElement("h4",null,a("components.DatasetDownloadList.otherDataTitle")),i.map(function(e){return e.available?ne.default.createElement("a",{key:e._id,href:e.location},e.name):ne.default.createElement("div",{key:e._id},e.name)}))),r&&ne.default.createElement(wt,{preview:r,closePreview:this.resetPreview}))}}]),t}(ne.default.PureComponent),Tt=Object(ie.translate)("Dataset")(_t),Pt=Tt,Ct=n(262),jt=n.n(Ct),kt=function(e){var t=e.links;return ne.default.createElement("ul",{className:jt.a.container},t.map(function(e,t){return ne.default.createElement("li",{key:t},ne.default.createElement("a",{href:e.href},e.name||e.href))}))},St=kt,Nt=St,At=n(8),It=n(88),Lt=n.n(It),Gt=n(211),xt=n(263),Ut=n.n(xt),Ft=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),Rt=function(e){function t(){var e,n,a,r;P(this,t);for(var o=arguments.length,i=Array(o),s=0;s<o;s++)i[s]=arguments[s];return n=a=C(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),a.onSearch=function(e){a.props.history.push({pathname:"/search",search:Lt.a.stringify(T({},e.name,e.value))})},r=n,C(a,r)}return j(t,e),Ft(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.organizations,a=t.keywords,r=t.t,o=[{name:"organization",title:r("components.DatasetFilters.organizationsTitle"),filters:n},{name:"keyword",title:r("components.DatasetFilters.keywordsTitle"),filters:a}];return ne.default.createElement("div",null,o.map(function(t){return t.filters.length>0&&ne.default.createElement("div",{key:t.title,className:Ut.a.group},ne.default.createElement("h4",null,t.title),ne.default.createElement("div",{className:Ut.a.facets},t.filters.map(function(n,a){return ne.default.createElement(Gt.a,{key:a,name:t.name,value:n,addFilter:e.onSearch})})))}))}}]),t}(ne.default.PureComponent),Vt=Object(At.withRouter)(Object(ie.translate)("Dataset")(Rt)),Ht=Vt,Wt=n(264),zt=n.n(Wt),Jt=function(e){var t=e.organization;return ne.default.createElement("div",{className:zt.a.container},ne.default.createElement("img",{src:t.logo,alt:"producer logo"}),ne.default.createElement("h4",null,t.name))},Mt=Jt,qt=Mt,Bt=n(265),Kt=n.n(Bt),Yt=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),Zt=function(e){function t(e){k(this,t);var n=S(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.selectThumbnail=function(e){return function(t){n.setState({selected:e}),t.preventDefault()}},n.state={selected:e.thumbnails[0]},n}return N(t,e),Yt(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.recordId,a=t.thumbnails,r=this.state.selected;return ne.default.createElement("div",{className:Kt.a.container},ne.default.createElement("div",{className:Kt.a.image},ne.default.createElement("img",{src:"https://inspire.data.gouv.fr/api/geogw/records/"+n+"/thumbnails/"+r.originalUrlHash,alt:""})),a.length>1&&ne.default.createElement("div",{className:Kt.a.list},a.map(function(t){return ne.default.createElement("div",{key:t.originalUrlHash,className:Kt.a.thumbContainer},ne.default.createElement("img",{src:"https://inspire.data.gouv.fr/api/geogw/records/"+n+"/thumbnails/"+t.originalUrlHash,className:t===r&&Kt.a.selected,alt:t.description,onClick:e.selectThumbnail(t)}))})))}}]),t}(ne.default.PureComponent),Xt=Zt,Qt=Xt,$t=n(266),en=n.n($t),tn=function(e){var t=e.extent,n={type:"FeatureCollection",features:[{type:"Feature",geometry:t,properties:{}}]};return ne.default.createElement("div",{className:en.a.container},ne.default.createElement(mt,{vectors:n,className:en.a.map,frozen:!0}))},nn=tn,an=nn,rn=function(e){var t=e.name,n=e.valid,a=e.msg;return ne.default.createElement("div",null,ne.default.createElement("div",null,t," ",n?ne.default.createElement("i",{className:"checkmark green icon"}):ne.default.createElement("i",{className:"remove red icon"})),a&&ne.default.createElement("div",null,a))};rn.defaultProps={valid:!1};var on=rn,sn=n(267),ln=n.n(sn),cn=function(e){var t=e.title,n=e.isValid,a=e.msg,r=e.children;return ne.default.createElement("div",{className:ln.a.check},ne.default.createElement("h3",null,ne.default.createElement(on,{name:t,valid:n})),ne.default.createElement("div",{className:ln.a.content},a&&ne.default.createElement("div",null,a),r))},un=cn,dn=function(e){var t=e.valid,n=e.distributions,a=e.t,r=a(t?"components.CheckDataAvailability.distributionAvailable":"components.CheckDataAvailability.distributionUnavailable");return ne.default.createElement(un,{title:a("components.CheckDataAvailability.title"),isValid:t,msg:r},t&&n.map(function(e){return ne.default.createElement(on,{key:e._id,name:e.typeName||e.layer||e.name,valid:e.available})}))};dn.defaultProps={valid:!1};var fn=Object(ie.translate)("Dataset")(dn),pn=function(){function e(e,t){var n=[],a=!0,r=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(a=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);a=!0);}catch(e){r=!0,o=e}finally{try{!a&&s.return&&s.return()}finally{if(r)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),mn=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),bn=function(e){function t(){return A(this,t),I(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return L(t,e),mn(t,[{key:"check",value:function(){var e=this.props,t=e.license,n=e.t,a=void 0,r=ne.default.createElement("div",null,n("components.CheckLicense.licensesList")," :",ne.default.createElement("ul",null,Object.entries(Je).map(function(e){var t=pn(e,2),n=t[0],a=t[1];return ne.default.createElement("li",{key:n},ne.default.createElement("a",{href:a.link},a.name))})));return t?Je[t]?(a=n("components.CheckLicense.validLicense"),r=void 0):a=n("components.CheckLicense.unrecognizedLicense"):a=n("components.CheckLicense.noLicenses"),{msg:a,content:r}}},{key:"render",value:function(){var e=this.props,t=e.valid,n=e.t,a=this.check(),r=a.msg,o=a.content;return ne.default.createElement(un,{title:n("components.CheckLicense.title"),isValid:t,msg:r},o)}}]),t}(ne.default.PureComponent);bn.defaultProps={valid:!1};var vn=Object(ie.translate)("Dataset")(bn),hn=function(e){var t=e.valid,n=e.organizations,a=e.t,r=a(t?"components.CheckProducers.identifiedProducer":"components.CheckProducers.unindentifiedProducer");return ne.default.createElement(un,{title:a("components.CheckProducers.title"),isValid:t,msg:r},n||null)};hn.defaultProps={valid:!1};var En,yn=Object(ie.translate)("Dataset")(hn),gn=n(268),Dn=n.n(gn),wn=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),On=function(e){function t(){var e,n,a,r;G(this,t);for(var o=arguments.length,i=Array(o),s=0;s<o;s++)i[s]=arguments[s];return n=a=x(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),a.state={expanded:!1},a.toggleDetails=function(){a.setState(function(e){return{expanded:!e.expanded}})},r=n,x(a,r)}return U(t,e),wn(t,[{key:"render",value:function(){var e=this.props,t=e.dataset,n=e.publication,a=e.t,r=this.state.expanded,o=b(t.metadata.license),i=h(t.organizations),s=E(t.dataset.distributions);return o&&i&&s?n?ne.default.createElement("div",null,ne.default.createElement("a",{href:n.remoteUrl},a("components.DatasetDataGouvPublication.dvgLink"))):ne.default.createElement("div",null,ne.default.createElement(ie.Trans,{i18nKey:"components.DatasetDataGouvPublication.canBePublished"},"This dataset ",ne.default.createElement("b",null,"can")," be published on data.gouv.fr"),ne.default.createElement("div",{className:Dn.a.highlight},a("components.DatasetDataGouvPublication.producerActionNeeded"))):ne.default.createElement("div",{className:Dn.a.checklist},ne.default.createElement(ie.Trans,{i18nKey:"components.DatasetDataGouvPublication.cantBePublished"},"This dataset ",ne.default.createElement("b",null,"can not")," be published on data.gouv.fr"),r&&ne.default.createElement("div",null,ne.default.createElement(vn,{license:t.metadata.license,valid:o}),ne.default.createElement(yn,{organizations:t.organizations,valid:i}),ne.default.createElement(fn,{distributions:t.dataset.distributions,valid:s})),ne.default.createElement(me.a,{text:a(r?"components.DatasetDataGouvPublication.hide":"components.DatasetDataGouvPublication.show"),action:this.toggleDetails}))}}]),t}(ne.default.PureComponent),_n=Object(ie.translate)("Dataset")(On),Tn=_n,Pn=n(269),Cn=n.n(Pn),jn=function(e){var t=e.role,n=e.t;return ne.default.createElement("div",{className:Cn.a.label+" "+(Cn.a[t]||Cn.a.notDefined)},n(["components.DatasetContactLabel."+t,"components.DatasetContactLabel.notDefined"]))},kn=Object(ie.translate)("Dataset")(jn),Sn=kn,Nn=n(270),An=n.n(Nn),In=function(e){var t=e.contact,n=e.t;return ne.default.createElement("div",{className:An.a.container},ne.default.createElement("div",{className:An.a.header},ne.default.createElement("div",{className:An.a.name},t.organizationName||n("Common:enums.unknownData.notSpecified")),ne.default.createElement(Sn,{role:t.role})),t.address&&ne.default.createElement("div",null,t.address[0]," ",t.town," - ",t.postalCode," ",t.country),ne.default.createElement("div",{className:An.a.contact},ne.default.createElement("div",null,ne.default.createElement("i",{className:"call icon"})," ",t.phoneNumber||n("Common:enums.unknownData.notSpecified")),ne.default.createElement("div",null,ne.default.createElement("i",{className:"mail outline icon"})," ",t.email?ne.default.createElement("a",{href:"mailto:"+t.email},t.email):n("Common:enums.unknownData.notSpecified",{context:"female"}))))},Ln=Object(ie.translate)("Dataset")(In),Gn=Ln,xn=n(271),Un=n.n(xn),Fn=function(e){var t=e.contacts;return ne.default.createElement("div",null,t.map(function(e,t){return ne.default.createElement("div",{key:t,className:Un.a.wrapper},ne.default.createElement(Gn,{contact:e}))}))},Rn=Fn,Vn=Rn,Hn=n(272),Wn=n.n(Hn),zn=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),Jn=function(e){function t(){return F(this,t),R(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return V(t,e),zn(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.publication,n=e.getDataGouvDataset;t&&t.remoteId&&n(t.remoteId)}},{key:"render",value:function(){var e=this.props,t=e.dataset,n=e.publication,a=e.dataGouvDataset,r=e.fetchGeoJson,o=e.t,i=e.i18n,s=t.metadata.status,l=t.metadata.thumbnails&&t.metadata.thumbnails.length>0;return ne.default.createElement("div",null,ne.default.createElement(se.Helmet,{title:t.metadata.title},ne.default.createElement("meta",{name:"twitter:title",content:t.metadata.title}),ne.default.createElement("meta",{name:"twitter:description",content:t.metadata.description}),l&&ne.default.createElement("meta",{name:"twitter:image",content:"https://inspire.data.gouv.fr/api/geogw/records/"+t.recordId+"/thumbnails/"+t.metadata.thumbnails[0].originalUrlHash}),ne.default.createElement("meta",{property:"og:title",content:t.metadata.title}),l&&ne.default.createElement("meta",{name:"og:image",content:"https://inspire.data.gouv.fr/api/geogw/records/"+t.recordId+"/thumbnails/"+t.metadata.thumbnails[0].originalUrlHash}),ne.default.createElement("meta",{property:"og:description",content:t.metadata.description})),i.exists("Dataset:components.DatasetView.consequences."+s)&&ne.default.createElement(pe,{title:o("components.DatasetView.obsoleteWarning",{status:o("enums.status."+s)})},o("Dataset:components.DatasetView.consequences."+s)),ne.default.createElement("div",{className:Wn.a.container},ne.default.createElement("div",{className:Wn.a.inner},ne.default.createElement("div",{className:Wn.a.main},ne.default.createElement(Ye,{dataset:t}),ne.default.createElement(We,{title:o("components.DatasetView.section.technicalInformation")},ne.default.createElement(et,{dataset:t,status:s})),ne.default.createElement(We,{title:o("components.DatasetView.section.downloads")},t.dataset.distributions.length>0?ne.default.createElement(Pt,{distributions:t.dataset.distributions,fetchGeoJson:r}):ne.default.createElement("div",null,o("noDownloads"))),t.metadata.links.length>0&&ne.default.createElement(We,{title:o("components.DatasetView.section.links")},ne.default.createElement(Nt,{links:t.metadata.links})),n&&n.remoteId&&ne.default.createElement(We,{title:o("components.DatasetView.section.discussions")},ne.default.createElement(Ue,{remoteId:n.remoteId})),(t.metadata.keywords.length>0||t.organizations.length>0)&&ne.default.createElement(We,{title:o("components.DatasetView.section.filters")},ne.default.createElement(Ht,{keywords:t.metadata.keywords,organizations:t.organizations}))),ne.default.createElement("div",{className:Wn.a.aside},n&&n.remoteId&&ne.default.createElement(We,{title:o("components.DatasetView.section.producer")},ne.default.createElement(oe.a,{isLoading:a.pending},a.dataset&&ne.default.createElement(qt,{organization:a.dataset.organization}))),l&&ne.default.createElement(We,{title:o("components.DatasetView.section.preview")},ne.default.createElement(Qt,{recordId:t.recordId,thumbnails:t.metadata.thumbnails})),t.metadata.spatialExtent&&ne.default.createElement(We,{title:o("components.DatasetView.section.spatialExtent")},ne.default.createElement(an,{extent:t.metadata.spatialExtent})),ne.default.createElement(We,{title:o("components.DatasetView.section.dgvPublication")},ne.default.createElement(Tn,{dataset:t,publication:n})),t.metadata.contacts.length>0&&ne.default.createElement(We,{title:o("components.DatasetView.section.contacts")},ne.default.createElement(Vn,{contacts:t.metadata.contacts})),t.metadata.credit&&ne.default.createElement(We,{title:o("components.DatasetView.section.contributions")},ne.default.createElement("div",null,t.metadata.credit)))),ne.default.createElement("div",{className:Wn.a.footer},ne.default.createElement("div",null,o("components.DatasetView.id")," : ",ne.default.createElement("b",null,t.metadata.id)))))}}]),t}(ne.default.PureComponent),Mn=Object(ie.translate)("Dataset")(Jn),qn=Mn,Bn=n(273),Kn=n.n(Bn),Yn=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),Zn=function(e){function t(){return H(this,t),W(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return z(t,e),Yn(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.getDataset,n=e.getPublication,a=e.datasetId;t(a),n(a)}},{key:"render",value:function(){var e=this.props,t=e.dataset,n=e.publication,a=e.dataGouvDataset,r=e.getDataGouvDataset,o=e.fetchGeoJson;return ne.default.createElement("div",null,ne.default.createElement(oe.a,{isLoading:t.pending||!t.dataset||n.pending,error:t.error,className:Kn.a.loader},ne.default.createElement(qn,{dataset:t.dataset,publication:n.publication,dataGouvDataset:a,getDataGouvDataset:r,fetchGeoJson:o})))}}]),t}(ne.default.PureComponent),Xn=Zn,Qn=Xn,$n=Object(B.connect)(function(e,t){var n=e.dataset;return{datasetId:t.match.params.datasetId,dataset:n.dataset,publication:n.publication,dataGouvDataset:n.dataGouvDataset}},{getDataset:Q,getPublication:$,getDataGouvDataset:ee,fetchGeoJson:te})(Qn),ea={dataset:{pending:!1,error:!1,dataset:null},publication:{pending:!1,error:!1,publication:null},dataGouvDataset:{pending:!1,error:!1,dataset:null},geoJson:{pending:!1,error:!1,data:null}},ta=(En={},J(En,"DATASETS_GET_PENDING",function(e,t){return Object.assign({},e,{dataset:Object.assign({},e.dataset,{pending:!0,error:!1})})}),J(En,"DATASETS_GET_SUCCESS",function(e,t){return Object.assign({},e,{dataset:Object.assign({},e.dataset,{pending:!1,dataset:t.payload,error:!1})})}),J(En,"DATASETS_GET_FAILURE",function(e,t){return Object.assign({},e,{dataset:Object.assign({},e.dataset,{pending:!1,error:t.error})})}),J(En,"DATASETS_GET_PUBLICATION_PENDING",function(e,t){return Object.assign({},e,{publication:Object.assign({},e.publication,{pending:!0,error:!1})})}),J(En,"DATASETS_GET_PUBLICATION_SUCCESS",function(e,t){return Object.assign({},e,{publication:Object.assign({},e.publication,{pending:!1,publication:t.payload,error:!1})})}),J(En,"DATASETS_GET_PUBLICATION_FAILURE",function(e,t){return Object.assign({},e,{publication:Object.assign({},e.publication,{pending:!1,error:t.error})})}),J(En,"DATASETS_DATA_GOUV_GET_PENDING",function(e,t){return Object.assign({},e,{dataGouvDataset:Object.assign({},e.dataGouvDataset,{pending:!0,error:!1})})}),J(En,"DATASETS_DATA_GOUV_GET_SUCCESS",function(e,t){return Object.assign({},e,{dataGouvDataset:Object.assign({},e.dataGouvDataset,{pending:!1,dataset:t.payload,error:!1})})}),J(En,"DATASETS_DATA_GOUV_GET_FAILURE",function(e,t){return Object.assign({},e,{dataGouvDataset:Object.assign({},e.dataGouvDataset,{pending:!1,error:t.error})})}),J(En,"DATASETS_FETCH_GEOJSON_PENDING",function(e,t){return Object.assign({},e,{geoJson:Object.assign({},e.geoJson,{pending:!0,error:!1})})}),J(En,"DATASETS_FETCH_GEOJSON_SUCCESS",function(e,t){return Object.assign({},e,{geoJson:Object.assign({},e.geoJson,{pending:!1,data:t.payload,error:!1})})}),J(En,"DATASETS_FETCH_GEOJSON_FAILURE",function(e,t){return Object.assign({},e,{geoJson:Object.assign({},e.geoJson,{pending:!1,error:t.error})})}),En),na=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ea,t=arguments[1],n=ta[t.type];return n?n(e,t):e};t.default=Object(M.a)("dataset",na)(Object(q.a)("Dataset",function(e){return n(274)("./"+e+".json")})($n))}});
//# sourceMappingURL=dataset.9b347f115e0ae9c14ac4.js.map