webpackJsonp([1],{265:function(e,t){e.exports={container:"Warning-O7ea_aHj",content:"Warning-2QVDaWsV",warning:"Warning-3Z9IZ77-",errorStyle:"Warning-3mGNopTL",bold:"Warning-1U4yMY_L",closeIcon:"Warning-3HYFmxrs"}},266:function(e,t){e.exports={avatar:"Message-3CTNH3Sy",message:"Message-36zsC5o5",header:"Message-3mKhHLfV",userName:"Message-clumRAAh",postedOn:"Message-3mY8k0Wp",content:"Message-RibvsdWg"}},267:function(e,t){e.exports={discussionForm:"DiscussionForm-2AUBi9eC",commentInput:"DiscussionForm-3zaPlc4f",avatar:"DiscussionForm-3kgnWVSb"}},268:function(e,t){e.exports={container:"Discussion-qYgyIsc0",resolved:"Discussion-nxTxAhNL",title:"Discussion-2x8E_MGX",action:"Discussion-28G4smRv",form:"Discussion-2upSdVWd",replies:"Discussion-GBqs4R4e",answer:"Discussion-4zcv1G70"}},269:function(e,t){e.exports={container:"DatasetBlock-1tG6o0TG",title:"DatasetBlock-1LNtN1Jx"}},270:function(e,t){e.exports={container:"MarkdownPreview-2lBa1nft",button:"MarkdownPreview-2QAmCIUo"}},271:function(e,t){e.exports={container:"DatasetHeader-PFBfgNzF",head:"DatasetHeader-3NH2dLEk",title:"DatasetHeader-27Kw0tfC",theme:"DatasetHeader--uTX8UxZ"}},272:function(e,t){e.exports={container:"DatasetTechnicalInfo-15Ugqg4b",other:"DatasetTechnicalInfo-2AoXyx_Z"}},273:function(e,t,a){var n=a(227);e.exports=function(e,t){e=n(e),t=n(t);var a=t?e.lastIndexOf(t):-1;return~a?e.slice(a+t.length,e.length):e}},274:function(e,t){e.exports={download:"DatasetDownload-3L0I1j09",container:"DatasetDownload-305g8xLZ",title:"DatasetDownload-3hGHZtla",formats:"DatasetDownload-mCJWRteK",viewerButton:"DatasetDownload-1stZovqV"}},275:function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iOSIgaGVpZ2h0PSI4IiB2aWV3Qm94PSIwIDAgOSA4IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+PHJlY3QgZmlsbC1vcGFjaXR5PSIuMjQ2IiBmaWxsPSIjRkZGIiB3aWR0aD0iOSIgaGVpZ2h0PSI4IiByeD0iMiIvPjxwYXRoIGQ9Ik00LjUgMS41djRtLTEtMWwxIDFtMS0xbC0xIDEiIHN0cm9rZT0iI0ZGRiIgc3Ryb2tlLWxpbmVjYXA9InNxdWFyZSIvPjwvZz48L3N2Zz4="},286:function(e,t){e.exports={container:"DatasetPreview-1WJYMnqb",loader:"DatasetPreview-2PYMLen8",buttons:"DatasetPreview-2tOkc4v3",active:"DatasetPreview-qJnswmsq",closeButton:"DatasetPreview-1Rydtzk4",wrapper:"DatasetPreview-2Sf9O6wT",map:"DatasetPreview-1MDJeSEJ",table:"DatasetPreview-2vmlmH9o",reactableCurrentPage:"DatasetPreview-1dKC3wNk"}},287:function(e,t){e.exports={container:"DatasetLinks-3_4LBWHX"}},288:function(e,t){e.exports={facets:"DatasetFilters-2W3axeQZ",group:"DatasetFilters-2UJt8zmw"}},289:function(e,t){e.exports={container:"DatasetProducer-1FmjOG-Y"}},290:function(e,t){e.exports={container:"DatasetThumbnails-jmiKjVuB",image:"DatasetThumbnails-oARyckq8",list:"DatasetThumbnails-33WczBfs",selected:"DatasetThumbnails-Pwk7WvU0",thumbContainer:"DatasetThumbnails-3Z0-C4E8"}},291:function(e,t){e.exports={container:"DatasetSpatialExtent-1aAe3258",map:"DatasetSpatialExtent-DuIQbGM2"}},292:function(e,t){e.exports={check:"Check-3oCz64ku",content:"Check-2F5icD5n"}},293:function(e,t){e.exports={checklist:"DatasetDataGouvPublication-28PCBWTm",highlight:"DatasetDataGouvPublication-24fv9Huu"}},294:function(e,t){e.exports={label:"DatasetContactLabel-1tq7oTGw",processor:"DatasetContactLabel-1eKqiDfA",resourceProvider:"DatasetContactLabel-3wAi_g0O",principalInvestigator:"DatasetContactLabel-1S9N0sNu",publisher:"DatasetContactLabel-32_9YyqH",owner:"DatasetContactLabel-1PuANBAf",author:"DatasetContactLabel-1LW1mSPf",custodian:"DatasetContactLabel-HExhwrCj",user:"DatasetContactLabel-1QBMi-ZW",distributor:"DatasetContactLabel-2kd5WVFt",originator:"DatasetContactLabel-Vkpp56ZK",pointOfContact:"DatasetContactLabel-pgtUMbDs",sponsor:"DatasetContactLabel-2UeyI84v",notDefined:"DatasetContactLabel-1J6O9Cn9",other:"DatasetContactLabel-1PKFyNzB"}},295:function(e,t){e.exports={header:"DatasetContact-PNfbkRi3",name:"DatasetContact-3d8DcY1b",contact:"DatasetContact-38GSgzdd"}},296:function(e,t){e.exports={wrapper:"DatasetContactList-1f7ubzb4"}},297:function(e,t){e.exports={container:"DatasetView-1W2A7OlZ",header:"DatasetView-1SbHojlY",side:"DatasetView-DmJ7GJno",center:"DatasetView-2s2X4PL2",footer:"DatasetView-3NIQQpN4"}},298:function(e,t){e.exports={loader:"DatasetPage-a6Y8XFMF"}},299:function(e,t,a){function n(e){return a(o(e))}function o(e){var t=r[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}var r={"./en.json":300,"./fr.json":301};n.keys=function(){return Object.keys(r)},n.resolve=o,e.exports=n,n.id=299},300:function(e,t){e.exports={components:{CheckDataAvailability:{distributionAvailable:"At least one of the distributions is available.",distributionUnavailable:"No distribution found.",title:"Data availability"},CheckLicense:{licensesList:"Recognized licenses are",noLicenses:"No licenses could be found.",validLicense:"The {{ license }} license is valid.",unrecognizedLicense:"The {{ license }} license was not recognized.",title:"License"},CheckProducers:{identifiedProducer:"At least one producer is identified.",unindentifiedProducer:"The producer has not been identified.",title:"Producer"},DatasetContactLabel:{resourceProvider:"Resource provider",custodian:"Custodian",owner:"Owner",user:"User",distributor:"Distributor",originator:"Originator",pointOfContact:"Point of contact",processor:"Processor",publisher:"Publisher",author:"Author",notDefined:"Unknown",other:"Other",principalInvestigator:"Principal investigator",sponsor:"Sponsor"},DatasetDataGouvPublication:{dvgLink:"See dataset on data.gouv.fr",canBePublished:"This dataset <1>can</1> be published on data.gouv.fr",producerActionNeeded:"An action of the producer is necessary.",cantBePublished:"This dataset <1>can not</1> be published on data.gouv.fr",hide:"Hide details",show:"Show details"},DatasetDownload:{unavailable:"Unavailable",buttonText:"Display"},DatasetDownloadList:{vectorDataTitle:"Vector data",otherDataTitle:"Other data"},DatasetFilters:{organizationsTitle:"Organizations",keywordsTitle:"Keywords"},DatasetHeader:{purpose:"Purpose",dataOrigin:"Data origin"},DatasetPreview:{map:"Map",table:"Table"},DatasetTechnicalInfo:{lifeCycleTitle:"Data life cycle (according to producer)",updateFrequency:"Update frequency",creationDate:"Creation date",revisionDate:"Last update",otherTitle:"Other information",topicCategory:"Dataset category",type:"Type",license:"License",status:"Status",scale:"Scale",resolution:"Resolution"},DatasetView:{obsoleteWarning:"This dataset is considered {{status}} by its producer",noLinks:"No links available.",noDownloads:"No data is available for download.",consequences:{obsolete:"Data may be incomplete or out of date",underDevelopment:"Some data may be inaccurate or will change"},section:{technicalInformation:"Technical Information",downloads:"Downloads",links:"Links",discussions:"Discussions",filters:"Filters",preview:"Data preview",spatialExtent:"Spatial Extent",dgvPublication:"Publication on data.gouv.fr",contacts:"Contacts",contributions:"Contributions"},id:"Dataset ID",datasetInfoLastUpdate:"Metadata last update"}},enums:{status:{completed:"completed",historicalArchive:"archived",obsolete:"obsolete",onGoing:"on going",planned:"planned",required:"update required",underDevelopment:"under development"}}}},301:function(e,t){e.exports={components:{CheckDataAvailability:{distributionAvailable:"Au moins une des distribution est disponible.",distributionUnavailable:"Aucune distribution n’a été trouvée.",title:"Disponibilité de la donnée"},CheckLicense:{licensesList:"Les licenses reconnue sont",noLicenses:"Aucune licence n’a pu être trouvée.",validLicense:"La licence {{ license }} est valide.",unrecognizedLicense:"La licence {{ license }} n’est pas reconnue.",title:"Licence"},CheckProducers:{identifiedProducer:"Au moins un producteur est identifié.",unindentifiedProducer:"Le producteur n’a pas été identifié.",title:"Producteur"},DatasetContactLabel:{resourceProvider:"Fournisseur",custodian:"Responsable",owner:"Propriétaire",user:"Utilisateur",distributor:"Distributeur",originator:"Initiateur",pointOfContact:"Point de contact",processor:"Intervenant technique",publisher:"Diffuseur",author:"Auteur",notDefined:"Inconnu",other:"Autre",principalInvestigator:"Directeur de recherche",sponsor:"Financeur"},DatasetDataGouvPublication:{dvgLink:"Consulter le jeu de données sur data.gouv.fr",canBePublished:"Ce jeu de données <1>peut</1> être publié sur data.gouv.fr",producerActionNeeded:"Une action du producteur est nécessaire.",cantBePublished:"Ce jeu de données <1>ne peut pas</1> être publié sur data.gouv.fr",hide:"Masquer le détail",show:"Afficher le détail"},DatasetDownload:{unavailable:"Indisponible",buttonText:"Visualiser"},DatasetDownloadList:{vectorDataTitle:"Données vectorielles",otherDataTitle:"Autres Données"},DatasetFilters:{organizationsTitle:"Organisations",keywordsTitle:"Mots-clés"},DatasetHeader:{purpose:"Objectif",dataOrigin:"Origine de la donnée"},DatasetPreview:{map:"Carte",table:"Tableau"},DatasetTechnicalInfo:{lifeCycleTitle:"Cycle de vie de la donnée (selon producteur)",updateFrequency:"Fréquence de mise à jour",creationDate:"Date de création",revisionDate:"Dernière mise à jour",otherTitle:"Autres informations",topicCategory:"Catégorie du jeu de données",type:"Type",license:"Licence",status:"État",scale:"Échelle",resolution:"Résolution"},DatasetView:{obsoleteWarning:"Attention ce jeu de données est considéré comme {{status}} par son producteur",noLinks:"Aucun lien disponible.",noDownloads:"Aucune donnée n’est téléchargeable.",consequences:{obsolete:"Les données peuvent être incomplètes ou ne plus être à jour",underDevelopment:"Certaines données peuvent être erronées ou vont subir des changements"},section:{technicalInformation:"Informations techniques",downloads:"Téléchargements",links:"Liens",discussions:"Discussions",filters:"Filtres",preview:"Aperçu des données",spatialExtent:"Étendue spatiale",dgvPublication:"Publication sur data.gouv.fr",contacts:"Contacts",contributions:"Contributions"},id:"Identifiant du jeu de données",datasetInfoLastUpdate:"Dernière mise à jour des informations"}},enums:{status:{completed:"terminée",historicalArchive:"archivée",obsolete:"obsolète",onGoing:"en cours",planned:"planifiée",required:"mise à jour requise",underDevelopment:"en construction"}}}},396:function(e,t,a){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function m(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function v(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function E(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function D(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function g(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function T(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function O(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function P(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function C(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function S(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function j(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function A(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function I(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function N(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function L(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function k(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function G(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function x(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function U(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function R(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function F(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function V(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function W(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var B=a(222),H=a(42),M=a(41),z=a(89),J=Object({NODE_ENV:"production",PUBLIC_URL:"https://geo.data.gouv.fr",DATAGOUV_API_URL:"https://geo.data.gouv.fr/dgv/proxy-api/1",DATAGOUV_API_KEY:"",PUBLICATION_BASE_URL:"https://geo.data.gouv.fr/dgv",GEODATA_API_URL:"https://inspire.data.gouv.fr/api/geogw",PIWIK_URL:"https://stats.data.gouv.fr",PIWIK_SITE_ID:"32"}),q=J.GEODATA_API_URL,Z=J.DATAGOUV_API_URL,K=function(e){return function(t){return t({type:"DATASETS_GET_PENDING"}),Object(z.b)(q+"/records/"+e).then(function(e){t({type:"DATASETS_GET_SUCCESS",payload:e})}).catch(function(e){t({type:"DATASETS_GET_FAILURE",error:e})})}},Y=function(e){return function(t){return t({type:"DATASETS_GET_PUBLICATION_PENDING"}),Object(z.b)(q+"/records/"+e+"/publications").then(function(e){t({type:"DATASETS_GET_PUBLICATION_SUCCESS",payload:e.find(function(e){return"dgv"===e.target})})}).catch(function(e){t({type:"DATASETS_GET_PUBLICATION_FAILURE",error:e})})}},Q=function(e){return function(t){return t({type:"DATASETS_DATA_GOUV_GET_PENDING"}),Object(z.b)(Z+"/datasets/"+e+"/").then(function(e){t({type:"DATASETS_DATA_GOUV_GET_SUCCESS",payload:e})}).catch(function(e){t({type:"DATASETS_DATA_GOUV_GET_FAILURE",error:e})})}},X=function(e){return function(t){return t({type:"DATASETS_FETCH_GEOJSON_PENDING"}),Object(z.b)(e+"?format=GeoJSON&projection=WGS84").then(function(e){if(!e.features||!e.features.length)throw new Error("Les données sont vides");t({type:"DATASETS_FETCH_GEOJSON_SUCCESS",payload:e})}).catch(function(e){t({type:"DATASETS_FETCH_GEOJSON_FAILURE",error:e})})}},$=a(0),ee=a(1),te=a.n(ee),ae=a(13),ne=a(3),oe=a(265),re=a.n(oe),ie=function(e){function t(){var a,r,i;n(this,t);for(var s=arguments.length,l=Array(s),c=0;c<s;c++)l[c]=arguments[c];return a=r=o(this,e.call.apply(e,[this].concat(l))),r.state={displayed:!0},r.closeWarning=function(){r.setState({displayed:!1})},i=a,o(r,i)}return r(t,e),t.prototype.render=function(){if(this.state.displayed){var e=this.props,t=e.error,a=e.title,n=e.children,o=t?re.a.errorStyle:re.a.warning;return $.default.createElement("div",{className:re.a.container+" "+o},$.default.createElement("div",{className:re.a.content},$.default.createElement("div",{className:re.a.bold},a),n),$.default.createElement("div",{className:re.a.closeIcon,onClick:this.closeWarning},$.default.createElement("i",{className:"big remove icon"})))}},t}($.default.PureComponent);ie.defaultProps={error:!1};var se=ie,le=se,ce=a(88),ue=a(85),de=a(7),fe=a(233),pe=Object({NODE_ENV:"production",PUBLIC_URL:"https://geo.data.gouv.fr",DATAGOUV_API_URL:"https://geo.data.gouv.fr/dgv/proxy-api/1",DATAGOUV_API_KEY:"",PUBLICATION_BASE_URL:"https://geo.data.gouv.fr/dgv",GEODATA_API_URL:"https://inspire.data.gouv.fr/api/geogw",PIWIK_URL:"https://stats.data.gouv.fr",PIWIK_SITE_ID:"32"}),me=pe.PUBLIC_URL,he=pe.PUBLICATION_BASE_URL,be=function(e){var t=e.user,a=e.children,n=e.location,o=me+n.pathname,r=he+"/login?redirect="+encodeURIComponent(o);return t?$.default.createElement("div",{style:{width:"100%"}},a):$.default.createElement("div",null,$.default.createElement("a",{href:r},$.default.createElement(fe.a,{text:"Se connecter"})),$.default.createElement("a",{href:"https://id.data.gouv.fr/register/"},$.default.createElement(fe.a,{text:"Créer un compte"})))},ve=Object(de.withRouter)(be),Ee=a(8),De=a.n(Ee),ge=a(266),ye=a.n(ge),we=function(e){var t=e.message;return $.default.createElement("div",{className:ye.a.message},$.default.createElement("a",{href:t.posted_by.page},$.default.createElement("img",{className:ye.a.avatar,src:t.posted_by.avatar||"/assets/avatar.png",alt:"avatar"})),$.default.createElement("div",{className:ye.a.content},$.default.createElement("div",{className:ye.a.header},$.default.createElement("div",{className:ye.a.userName},t.posted_by.first_name," ",t.posted_by.last_name),$.default.createElement("div",{className:ye.a.postedOn},Object(ce.a)(De()(t.posted_on).add(2,"hh")))),$.default.createElement("div",null,t.content)))},Te=we,Oe=a(267),Pe=function(e){function t(a){i(this,t);var n=s(this,e.call(this,a));return n.state={title:"",comment:""},n}return l(t,e),t.prototype.onTitleChange=function(e){this.setState({title:e.target.value})},t.prototype.onCommentChange=function(e){this.setState({comment:e.target.value})},t.prototype.onKeyPress=function(e){"Enter"===e.key&&this.search()},t.prototype.search=function(){var e=this.props,t=e.discussionId,a=e.replyMode,n=e.returForm,o=this.state,r=o.title,i=o.comment;a&&n(i,t),n(r,i,t)},t.prototype.render=function(){var e=this,t=this.state,a=t.title,n=t.comment,o=this.props,r=o.user,i=o.replyMode,s=void 0!==i&&i,l=o.error,c=$.default.createElement("input",{type:"text",value:a,onChange:function(t){return e.onTitleChange(t)},onKeyPress:function(t){return e.onKeyPress(t)},placeholder:"Titre"});return $.default.createElement("div",{className:Oe.discussionForm},l?$.default.createElement("p",null,"Merci de préciser ",s?"":"le titre et"," le commentaire."):null,s?null:c,$.default.createElement("div",{className:Oe.commentInput},$.default.createElement("img",{className:Oe.avatar,src:r.avatar||"/assets/avatar.png",alt:"avatar"}),$.default.createElement("textarea",{type:"textarea",value:n,onChange:function(t){return e.onCommentChange(t)},onKeyPress:function(t){return e.onKeyPress(t)},placeholder:"Commentaire"})),$.default.createElement(ue.a,{action:function(){return e.search()},text:s?"Répondre":"Démarrer une discussion",icon:s?"reply":"comments"}))},t}($.Component),Ce=Pe,_e=a(268),Se=a.n(_e),je=function(e){function t(a){c(this,t);var n=u(this,e.call(this,a));return n.state={more:!1,replyInput:!1},n}return d(t,e),t.prototype.extendsHandle=function(e){e.stopPropagation(),this.setState({replyInput:!1,more:!this.state.more})},t.prototype.replyForm=function(){this.setState({more:!0,replyInput:!0})},t.prototype.newReply=function(e,t){this.setState({replyInput:!1}),this.props.returForm(e,t)},t.prototype.render=function(){var e=this,t=this.state,a=t.more,n=t.replyInput,o=this.props,r=o.discussion,i=o.user,s=o.formError,l=r.discussion.map(function(e,t){return $.default.createElement(Te,{key:t,message:e})}),c=r.discussion.length-1,u=void 0;u=c?1===c?"1 réponse":c+" réponses":null;var d=n?$.default.createElement(ve,{user:i},$.default.createElement(Ce,{replyMode:!0,user:i,discussionId:r.id,error:s,returForm:function(t,a){return e.newReply(t,a)}})):$.default.createElement(ue.a,{action:function(){return e.replyForm()},text:"Répondre"});return $.default.createElement("div",{className:Se.a.container},r.closed?$.default.createElement("div",{className:Se.a.resolved},$.default.createElement("i",{className:"checkmark icon"})):null,$.default.createElement("div",{className:Se.a.title},r.title),$.default.createElement("div",{className:Se.a.messages},a?l:$.default.createElement(Te,{message:r.discussion[0]}),$.default.createElement("div",{className:n?Se.a.form:Se.a.action},a||!c?d:null,$.default.createElement("div",{className:Se.a.replies,onClick:function(t){return e.extendsHandle(t)}},a?"Fermer":u))))},t}($.Component),Ae=je,Ie=a(83),Ne=a(84),Le=function(e){function t(a){f(this,t);var n=p(this,e.call(this,a));return n.state={discussionForm:!1,formError:!1,errors:[]},n}return m(t,e),t.prototype.componentWillMount=function(){return Promise.all([this.updateDiscussions(),this.updateUser()])},t.prototype.updateUser=function(){return Object(Ne.c)(Object(Ie.p)(),this,"user")},t.prototype.updateDiscussions=function(){var e=this.props.remoteId;if(e)return Object(Ne.c)(Object(Ie.k)(e),this,"discussions")},t.prototype.componentWillUnmount=function(){return Object(Ne.a)(this)},t.prototype.showDiscussionForm=function(){this.setState({discussionForm:!0})},t.prototype.createDiscussion=function(e,t,a){var n=this,o=this.props.remoteId;if(!e||!t)return this.setState({formError:!0});var r={title:e,comment:t,subject:{id:o,class:"Dataset"}};Object(Ie.b)(r,a).then(function(e){var t=n.state.discussions;t.data.push(e),n.setState({discussions:t,discussionForm:!1,formError:!1})})},t.prototype.createReply=function(e,t){var a=this;if(!e)return this.setState({formError:!0});Object(Ie.c)({comment:e},t).then(function(){a.updateDiscussions(),a.setState({discussionForm:!1,formError:!1})})},t.prototype.render=function(){var e=this,t=this.state,a=t.discussions,n=t.discussionForm,o=t.user,r=t.formError,i=this.props.remoteId;return $.default.createElement("div",null,a?a.data.map(function(t,a){return $.default.createElement(Ae,{key:a,user:o,formError:r,remoteId:i,discussion:t,returForm:function(t,a){return e.createReply(t,a)}})}):null,n?$.default.createElement(ve,{user:o},$.default.createElement(Ce,{user:o,error:r,returForm:function(t,a,n){return e.createDiscussion(t,a,n)}})):$.default.createElement(ue.a,{text:"Démarrer une nouvelle discussion",action:function(){return e.showDiscussionForm()},icon:"comments"}))},t}($.Component),ke=Le,Ge=a(269),xe=a.n(Ge),Ue=function(e){var t=e.title,a=e.children;return $.default.createElement("div",{className:xe.a.container},t&&$.default.createElement("h3",{className:xe.a.title},t),a)},Re=Ue,Fe=Re,Ve=a(238),We=a.n(Ve),Be=a(239),He=a(270),Me=a.n(He),ze=function(e){function t(){var a,n,o;h(this,t);for(var r=arguments.length,i=Array(r),s=0;s<r;s++)i[s]=arguments[s];return a=n=b(this,e.call.apply(e,[this].concat(i))),n.state={expanded:!1},n.toggleExpanded=function(){n.setState(function(e){return{expanded:!e.expanded}})},o=a,b(n,o)}return v(t,e),t.prototype.render=function(){var e=this.props,t=e.markdown,a=e.limit,n=this.state.expanded;return $.default.createElement("div",{className:Me.a.container},$.default.createElement(Be.a,{markdown:n?t:We()(t,a)}),t.length>a&&$.default.createElement("button",{className:Me.a.button,onClick:this.toggleExpanded},n?"Réduire":"Afficher la suite"))},t}($.default.PureComponent);ze.defaultProps={limit:1e3};var Je=ze,qe=Je,Ze=a(240),Ke=a(271),Ye=a.n(Ke),Qe=function(e){var t=e.dataset,a=e.t,n=e.i18n,o=t.metadata,r=o.title,i=o.description,s=o.purpose,l=o.lineage,c=o.inspireTheme;return $.default.createElement("div",{className:Ye.a.container},$.default.createElement("div",{className:Ye.a.head},$.default.createElement("div",{className:Ye.a.title},$.default.createElement("h1",null,r),$.default.createElement(Ze.a,{metadata:t.metadata,displayType:!0})),c&&$.default.createElement("a",{href:c.uri+"?lang="+n.language,className:Ye.a.theme,target:"_blank"},$.default.createElement("img",{src:"/assets/inspire-icons/"+c.id+".svg",title:c.label[n.language],alt:c.label[n.language]}))),$.default.createElement("div",null,i&&$.default.createElement(qe,{markdown:i}),$.default.createElement("p",null,$.default.createElement("b",null,a("components.DatasetHeader.purpose")," :")," ",s||a("Common:enums.unknownData.notSpecified")),$.default.createElement("p",null,$.default.createElement("b",null,a("components.DatasetHeader.dataOrigin")," :")," ",l||a("Common:enums.unknownData.notSpecified",{context:"female"}))))},Xe=Object(ne.translate)("Dataset")(Qe),$e=Xe,et=a(17),tt=function(e){var t=e.dataset,a=e.hasThumbnails;return $.default.createElement(et.Helmet,{title:t.metadata.title},$.default.createElement("meta",{name:"twitter:title",content:t.metadata.title}),$.default.createElement("meta",{name:"twitter:description",content:t.metadata.description}),a&&$.default.createElement("meta",{name:"twitter:image",content:"https://inspire.data.gouv.fr/api/geogw/records/"+t.recordId+"/thumbnails/"+t.metadata.thumbnails[0].originalUrlHash}),$.default.createElement("meta",{property:"og:title",content:t.metadata.title}),a&&$.default.createElement("meta",{name:"og:image",content:"https://inspire.data.gouv.fr/api/geogw/records/"+t.recordId+"/thumbnails/"+t.metadata.thumbnails[0].originalUrlHash}),$.default.createElement("meta",{property:"og:description",content:t.metadata.description}))},at=tt,nt=at,ot=a(228),rt=a(272),it=a.n(rt),st=function(e){var t=e.dataset,a=e.status,n=e.t,o=(e.i18n,t.metadata),r=o.type,i=o.updateFrequency,s=o.topicCategory,l=o.equivalentScaleDenominator,c=o.spatialResolution,u=Object(ot.e)(t.metadata.license),d=n(["Common:enums.frequencies."+i,"Common:enums.unknownData.unknown"],{context:"female"}),f=n(["Common:enums.topicCategories."+s,"Common:enums.unknownData.notSpecified"],{context:"female"}),p=n("Common:enums.dataTypes."+r,{defaultValue:r}),m=t.metadata,h=m.creationDate,b=m.revisionDate,v=b||h,E=h?De()(h).format("L"):n("Common:enums.unknownData.unknown",{context:"female"}),D=v?Object(ce.a)(v):n("Common:enums.unknownData.unknown",{context:"female"});return $.default.createElement("div",{className:it.a.container},$.default.createElement("div",null,$.default.createElement("h4",null,n("components.DatasetTechnicalInfo.lifeCycleTitle")),$.default.createElement("div",null,n("components.DatasetTechnicalInfo.updateFrequency")," : ",$.default.createElement("b",null,d)),$.default.createElement("div",null,n("components.DatasetTechnicalInfo.creationDate")," : ",$.default.createElement("b",null,E)),$.default.createElement("div",null,n("components.DatasetTechnicalInfo.revisionDate")," : ",$.default.createElement("b",null,D))),$.default.createElement("div",{className:it.a.other},$.default.createElement("h4",null,n("components.DatasetTechnicalInfo.otherTitle")),$.default.createElement("div",null,n("components.DatasetTechnicalInfo.topicCategory")," : ",$.default.createElement("b",null,f)),$.default.createElement("div",null,n("components.DatasetTechnicalInfo.type")," : ",$.default.createElement("b",null,p||n("Common:enums.unknownData.unknown"))),$.default.createElement("div",null,n("components.DatasetTechnicalInfo.license")," : ",u.name?$.default.createElement("a",{href:u.link},u.name):$.default.createElement("b",null,u)),a&&$.default.createElement("div",null,n("components.DatasetTechnicalInfo.status")," : ",$.default.createElement("b",null,n("enums.status."+a))),l&&$.default.createElement("div",null,n("components.DatasetTechnicalInfo.scale")," : ",$.default.createElement("b",null,"1 / ",l)),c&&$.default.createElement("div",null,n("components.DatasetTechnicalInfo.resolution")," : ",$.default.createElement("b",null,c.value," ",c.unit))))},lt=Object(ne.translate)("Dataset")(st),ct=lt,ut=a(273),dt=a.n(ut),ft=a(274),pt=a.n(ft),mt=a(275),ht=a.n(mt),bt=[{label:"GeoJSON",format:"GeoJSON",projection:"WGS84"},{label:"SHP/L93",format:"SHP",projection:"Lambert93"},{label:"SHP/W84",format:"SHP",projection:"WGS84"},{label:"KML",format:"KML",projection:"WGS84"},{label:"CSV",format:"CSV",projection:"WGS84"}],vt=function(e){var t=e.distribution,a=e.isPreview,n=e.setPreview,o=e.resetPreview,r=e.t,i=void 0,s=void 0;"file-package"===t.type&&(s=dt()(t.layer,"/"),i="https://inspire.data.gouv.fr/api/geogw/file-packages/"+t.hashedLocation+"/"+s+"/download"),"wfs-featureType"===t.type&&(i="https://inspire.data.gouv.fr/api/geogw/services/"+t.service+"/feature-types/"+t.typeName+"/download");var l=s||t.typeName;return $.default.createElement("div",{className:pt.a.download},$.default.createElement("div",{className:pt.a.title},l),$.default.createElement("div",null,$.default.createElement("div",{className:pt.a.container},$.default.createElement("div",null,$.default.createElement("div",{className:pt.a.formats},t.available?bt.map(function(e,t){return $.default.createElement("a",{key:t,href:i+"?format="+e.format+"&projection="+e.projection},$.default.createElement("img",{src:ht.a,alt:"download icon"}),e.label)}):$.default.createElement("p",null,r("components.DatasetDownload.unavailable")))),t.available?$.default.createElement("button",{className:pt.a.viewerButton,onClick:a?o:function(){return n({distribution:t,link:i})}},r("components.DatasetDownload.buttonText")," ",a&&$.default.createElement("i",{className:"unhide icon"})):$.default.createElement("button",{className:pt.a.viewerButton,disabled:!0},r("components.DatasetDownload.buttonText")))))};vt.defaultProps={isPreview:!1};var Et=Object(ne.translate)("Dataset")(vt),Dt=Et,gt=a(125),yt=a(100),wt=a.n(yt),Tt=wt()({loader:function(){return a.e(9).then(a.bind(null,397))},loading:ae.a}),Ot=Tt,Pt=Ot,Ct=a(286),_t=a.n(Ct),St=function(e){function t(){var a,n,o;E(this,t);for(var r=arguments.length,i=Array(r),s=0;s<r;s++)i[s]=arguments[s];return a=n=D(this,e.call.apply(e,[this].concat(i))),n.state={mode:"map"},n.setMode=function(e){return function(){n.setState({mode:e})}},n.getTableData=function(e){return e.features.map(function(e){var t=Object.assign({},e.properties);return delete t.gml_id,t})},o=a,D(n,o)}return g(t,e),t.prototype.render=function(){var e=this.props,t=e.geoJson,a=e.closePreview,n=e.t,o=this.state.mode;return $.default.createElement("div",{className:_t.a.container},$.default.createElement("div",{className:_t.a.buttons},$.default.createElement("button",{onClick:this.setMode("map"),className:"map"===o&&_t.a.active},n("components.DatasetPreview.map")),$.default.createElement("button",{onClick:this.setMode("table"),className:"table"===o&&_t.a.active},n("components.DatasetPreview.table")),$.default.createElement("button",{className:_t.a.closeButton,onClick:a},"X")),$.default.createElement(ae.a,{isLoading:t.pending,error:t.error,className:_t.a.loader},$.default.createElement("div",{className:_t.a.wrapper},"map"===o?$.default.createElement(Pt,{vectors:t.data,className:_t.a.map,lat:47,lon:1,zoom:5.5}):$.default.createElement(gt.Table,{data:t.data&&this.getTableData(t.data),className:_t.a.table,itemsPerPage:20,pageButtonLimit:20,sortable:!0}))))},t}($.default.PureComponent),jt=Object(ne.translate)("Dataset")(St),At=jt,It=Object(M.connect)(function(e,t){return{preview:t.preview,closePreview:t.closePreview,geoJson:e.dataset.geoJson}})(At);It.propTypes={preview:te.a.object.isRequired,closePreview:te.a.func.isRequired};var Nt=It,Lt=function(e){function t(){var a,n,o;y(this,t);for(var r=arguments.length,i=Array(r),s=0;s<r;s++)i[s]=arguments[s];return a=n=w(this,e.call.apply(e,[this].concat(i))),n.state={},n.setPreview=function(e){var t=e.distribution,a=e.link,o=n.props.fetchGeoJson;n.setState({preview:{distribution:t,link:a}}),o(a)},n.resetPreview=function(){n.setState({preview:null})},o=a,w(n,o)}return T(t,e),t.prototype.render=function(){var e=this,t=this.props,a=t.distributions,n=t.t,o=this.state.preview,r=a.filter(function(e){return!e.originalDistribution}),i=a.filter(function(e){return!0===e.originalDistribution});return $.default.createElement("div",null,$.default.createElement("div",null,r.length>0&&$.default.createElement("div",null,$.default.createElement("h4",null,n("components.DatasetDownloadList.vectorDataTitle")),r.map(function(t){return $.default.createElement(Dt,{key:t._id,distribution:t,isPreview:o&&o.distribution._id===t._id,setPreview:e.setPreview,resetPreview:e.resetPreview})})),i.length>0&&$.default.createElement("div",null,$.default.createElement("h4",null,n("components.DatasetDownloadList.otherDataTitle")),i.map(function(e){return e.available?$.default.createElement("a",{key:e._id,href:e.location},e.name):$.default.createElement("div",{key:e._id},e.name)}))),o&&$.default.createElement(Nt,{preview:o,closePreview:this.resetPreview}))},t}($.default.PureComponent),kt=Object(ne.translate)("Dataset")(Lt),Gt=kt,xt=a(287),Ut=a.n(xt),Rt=function(e){var t=e.links;return $.default.createElement("ul",{className:Ut.a.container},t.map(function(e,t){return $.default.createElement("li",{key:t},$.default.createElement("a",{href:e.href},e.name||e.href))}))},Ft=Rt,Vt=Ft,Wt=a(87),Bt=a.n(Wt),Ht=a(232),Mt=a(288),zt=a.n(Mt),Jt=function(e){function t(){var a,n,o;O(this,t);for(var r=arguments.length,i=Array(r),s=0;s<r;s++)i[s]=arguments[s];return a=n=P(this,e.call.apply(e,[this].concat(i))),n.onSearch=function(e){var t;n.props.history.push({pathname:"/search",search:Bt.a.stringify((t={},t[e.name]=e.value,t))})},o=a,P(n,o)}return C(t,e),t.prototype.render=function(){var e=this,t=this.props,a=t.organizations,n=t.keywords,o=t.t,r=[{name:"organization",title:o("components.DatasetFilters.organizationsTitle"),filters:a},{name:"keyword",title:o("components.DatasetFilters.keywordsTitle"),filters:n}];return $.default.createElement("div",null,r.map(function(t){return t.filters.length>0&&$.default.createElement("div",{key:t.title,className:zt.a.group},$.default.createElement("h4",null,t.title),$.default.createElement("div",{className:zt.a.facets},t.filters.map(function(a,n){return $.default.createElement(Ht.a,{style:{"margin-right":"5px"},key:n,name:t.name,value:a,addFilter:e.onSearch})})))}))},t}($.default.PureComponent),qt=Object(de.withRouter)(Object(ne.translate)("Dataset")(Jt)),Zt=qt,Kt=a(289),Yt=a.n(Kt),Qt=function(e){var t=e.organization;return $.default.createElement("div",{className:Yt.a.container},$.default.createElement("img",{src:t.logo,alt:"producer logo"}),$.default.createElement("h4",null,t.name))},Xt=Qt,$t=Xt,ea=a(290),ta=a.n(ea),aa=function(e){function t(a){_(this,t);var n=S(this,e.call(this,a));return n.selectThumbnail=function(e){return function(t){n.setState({selected:e}),t.preventDefault()}},n.state={selected:a.thumbnails[0]},n}return j(t,e),t.prototype.render=function(){var e=this,t=this.props,a=t.recordId,n=t.thumbnails,o=this.state.selected;return $.default.createElement("div",{className:ta.a.container},$.default.createElement("div",{className:ta.a.image},$.default.createElement("img",{src:"https://inspire.data.gouv.fr/api/geogw/records/"+a+"/thumbnails/"+o.originalUrlHash,alt:""})),n.length>1&&$.default.createElement("div",{className:ta.a.list},n.map(function(t){return $.default.createElement("div",{key:t.originalUrlHash,className:ta.a.thumbContainer},$.default.createElement("img",{src:"https://inspire.data.gouv.fr/api/geogw/records/"+a+"/thumbnails/"+t.originalUrlHash,className:t===o&&ta.a.selected,alt:t.description,onClick:e.selectThumbnail(t)}))})))},t}($.default.PureComponent),na=aa,oa=na,ra=a(291),ia=a.n(ra),sa=function(e){var t=e.extent,a={type:"FeatureCollection",features:[{type:"Feature",geometry:t,properties:{}}]};return $.default.createElement("div",{className:ia.a.container},$.default.createElement(Pt,{vectors:a,className:ia.a.map,frozen:!0}))},la=sa,ca=la,ua=function(e){var t=e.name,a=e.valid,n=e.msg;return $.default.createElement("div",null,$.default.createElement("div",null,t," ",a?$.default.createElement("i",{className:"checkmark green icon"}):$.default.createElement("i",{className:"remove red icon"})),n&&$.default.createElement("div",null,n))};ua.defaultProps={valid:!1};var da=ua,fa=a(292),pa=a.n(fa),ma=function(e){var t=e.title,a=e.isValid,n=e.msg,o=e.children;return $.default.createElement("div",{className:pa.a.check},$.default.createElement("h3",null,$.default.createElement(da,{name:t,valid:a})),$.default.createElement("div",{className:pa.a.content},n&&$.default.createElement("div",null,n),o))},ha=ma,ba=function(e){var t=e.valid,a=e.distributions,n=e.t,o=n(t?"components.CheckDataAvailability.distributionAvailable":"components.CheckDataAvailability.distributionUnavailable");return $.default.createElement(ha,{title:n("components.CheckDataAvailability.title"),isValid:t,msg:o},t&&a.map(function(e){return $.default.createElement(da,{key:e._id,name:e.typeName||e.layer||e.name,valid:e.available})}))};ba.defaultProps={valid:!1};var va=Object(ne.translate)("Dataset")(ba),Ea=function(e){function t(){return A(this,t),I(this,e.apply(this,arguments))}return N(t,e),t.prototype.check=function(){var e=this.props,t=e.license,a=e.t,n=void 0,o=$.default.createElement("div",null,a("components.CheckLicense.licensesList")," :",$.default.createElement("ul",null,Object.entries(ot.a).map(function(e){var t=e[0],a=e[1];return $.default.createElement("li",{key:t},$.default.createElement("a",{href:a.link},a.name))})));return t?ot.a[t]?(n=a("components.CheckLicense.validLicense"),o=void 0):n=a("components.CheckLicense.unrecognizedLicense"):n=a("components.CheckLicense.noLicenses"),{msg:n,content:o}},t.prototype.render=function(){var e=this.props,t=e.valid,a=e.t,n=this.check(),o=n.msg,r=n.content;return $.default.createElement(ha,{title:a("components.CheckLicense.title"),isValid:t,msg:o},r)},t}($.default.PureComponent);Ea.defaultProps={valid:!1};var Da=Object(ne.translate)("Dataset")(Ea),ga=function(e){var t=e.valid,a=e.organizations,n=e.t,o=n(t?"components.CheckProducers.identifiedProducer":"components.CheckProducers.unindentifiedProducer");return $.default.createElement(ha,{title:n("components.CheckProducers.title"),isValid:t,msg:o},a||null)};ga.defaultProps={valid:!1};var ya,wa=Object(ne.translate)("Dataset")(ga),Ta=a(293),Oa=a.n(Ta),Pa=function(e){function t(){var a,n,o;L(this,t);for(var r=arguments.length,i=Array(r),s=0;s<r;s++)i[s]=arguments[s];return a=n=k(this,e.call.apply(e,[this].concat(i))),n.state={expanded:!1},n.toggleDetails=function(){n.setState(function(e){return{expanded:!e.expanded}})},o=a,k(n,o)}return G(t,e),t.prototype.render=function(){var e=this.props,t=e.dataset,a=e.publication,n=e.t,o=this.state.expanded,r=Object(ot.c)(t.metadata.license),i=Object(ot.d)(t.organizations),s=Object(ot.b)(t.dataset.distributions);return r&&i&&s?a?$.default.createElement("div",null,$.default.createElement("a",{href:a.remoteUrl},n("components.DatasetDataGouvPublication.dvgLink"))):$.default.createElement("div",null,$.default.createElement(ne.Trans,{i18nKey:"components.DatasetDataGouvPublication.canBePublished"},"This dataset ",$.default.createElement("b",null,"can")," be published on data.gouv.fr"),$.default.createElement("div",{className:Oa.a.highlight},n("components.DatasetDataGouvPublication.producerActionNeeded"))):$.default.createElement("div",{className:Oa.a.checklist},$.default.createElement(ne.Trans,{i18nKey:"components.DatasetDataGouvPublication.cantBePublished"},"This dataset ",$.default.createElement("b",null,"can not")," be published on data.gouv.fr"),o&&$.default.createElement("div",null,$.default.createElement(Da,{license:t.metadata.license,valid:r}),$.default.createElement(wa,{organizations:t.organizations,valid:i}),$.default.createElement(va,{distributions:t.dataset.distributions,valid:s})),$.default.createElement(fe.a,{text:n(o?"components.DatasetDataGouvPublication.hide":"components.DatasetDataGouvPublication.show"),action:this.toggleDetails}))},t}($.default.PureComponent),Ca=Object(ne.translate)("Dataset")(Pa),_a=Ca,Sa=a(294),ja=a.n(Sa),Aa=function(e){var t=e.role,a=e.t;return $.default.createElement("div",{className:ja.a.label+" "+(ja.a[t]||ja.a.notDefined)},a(["components.DatasetContactLabel."+t,"components.DatasetContactLabel.notDefined"]))},Ia=Object(ne.translate)("Dataset")(Aa),Na=Ia,La=a(295),ka=a.n(La),Ga=function(e){var t=e.contact,a=e.t;return $.default.createElement("div",{className:ka.a.container},$.default.createElement("div",{className:ka.a.header},$.default.createElement("div",{className:ka.a.name},t.organizationName||a("Common:enums.unknownData.notSpecified")),$.default.createElement(Na,{role:t.role})),t.address&&$.default.createElement("div",null,t.address[0]," ",t.town," - ",t.postalCode," ",t.country),$.default.createElement("div",{className:ka.a.contact},$.default.createElement("div",null,$.default.createElement("i",{className:"call icon"})," ",t.phoneNumber||a("Common:enums.unknownData.notSpecified")),$.default.createElement("div",null,$.default.createElement("i",{className:"mail outline icon"})," ",t.email?$.default.createElement("a",{href:"mailto:"+t.email},t.email):a("Common:enums.unknownData.notSpecified",{context:"female"}))))},xa=Object(ne.translate)("Dataset")(Ga),Ua=xa,Ra=a(296),Fa=a.n(Ra),Va=function(e){var t=e.contacts;return $.default.createElement("div",null,t.map(function(e,t){return $.default.createElement("div",{key:t,className:Fa.a.wrapper},$.default.createElement(Ua,{contact:e}))}))},Wa=Va,Ba=Wa,Ha=a(297),Ma=a.n(Ha),za=a(86),Ja=a.n(za),qa=function(e){function t(){return x(this,t),U(this,e.apply(this,arguments))}return R(t,e),t.prototype.componentDidMount=function(){var e=this.props,t=e.publication,a=e.getDataGouvDataset;t&&t.remoteId&&a(t.remoteId)},t.prototype.render=function(){var e=this.props,t=e.dataset,a=e.publication,n=e.dataGouvDataset,o=e.fetchGeoJson,r=e.t,i=e.i18n,s=t.metadata.status,l=t.metadata.thumbnails&&t.metadata.thumbnails.length>0,c=Object(ce.a)(t.revisionDate);return $.default.createElement("div",null,$.default.createElement("div",{className:Ma.a.header,style:"background: url("+Ja.a+") bottom / 101% no-repeat, linear-gradient(to top, #41dcd7, #3083b2)"}),$.default.createElement(nt,{dataset:t,hasThumbnails:l}),i.exists("Dataset:components.DatasetView.consequences."+s)&&$.default.createElement(le,{title:r("components.DatasetView.obsoleteWarning",{status:r("enums.status."+s)})},r("Dataset:components.DatasetView.consequences."+s)),$.default.createElement("div",{className:Ma.a.container},$.default.createElement("div",{className:Ma.a.side},a&&a.remoteId&&$.default.createElement(Fe,null,$.default.createElement(ae.a,{isLoading:n.pending},n.dataset&&$.default.createElement($t,{organization:n.dataset.organization}))),$.default.createElement(Fe,{title:r("components.DatasetView.section.technicalInformation")},$.default.createElement(ct,{dataset:t,status:s})),$.default.createElement(Fe,{title:r("components.DatasetView.section.dgvPublication")},$.default.createElement(_a,{dataset:t,publication:a})),t.metadata.contacts.length>0&&$.default.createElement(Fe,{title:r("components.DatasetView.section.contacts")},$.default.createElement(Ba,{contacts:t.metadata.contacts})),t.metadata.credit&&$.default.createElement(Fe,{title:r("components.DatasetView.section.contributions")},$.default.createElement("div",null,t.metadata.credit))),$.default.createElement("div",{className:Ma.a.center},$.default.createElement($e,{dataset:t}),$.default.createElement(Fe,{title:r("components.DatasetView.section.downloads")},t.dataset.distributions.length>0?$.default.createElement(Gt,{distributions:t.dataset.distributions,fetchGeoJson:o}):$.default.createElement("div",null,r("components.DatasetView.noDownloads"))),a&&a.remoteId&&$.default.createElement(Fe,{title:r("components.DatasetView.section.discussions")},$.default.createElement(ke,{remoteId:a.remoteId})),(t.metadata.keywords.length>0||t.organizations.length>0)&&$.default.createElement(Fe,{title:r("components.DatasetView.section.filters")},$.default.createElement(Zt,{keywords:t.metadata.keywords,organizations:t.organizations})),$.default.createElement("div",{className:Ma.a.footer},$.default.createElement("div",null,r("components.DatasetView.id")," : ",$.default.createElement("b",null,t.metadata.id)),$.default.createElement("div",null,r("components.DatasetView.datasetInfoLastUpdate")," : ",$.default.createElement("b",null,c)))),$.default.createElement("div",{className:Ma.a.side},l&&$.default.createElement(Fe,{title:r("components.DatasetView.section.preview")},$.default.createElement(oa,{recordId:t.recordId,thumbnails:t.metadata.thumbnails})),t.metadata.spatialExtent&&$.default.createElement(Fe,{title:r("components.DatasetView.section.spatialExtent")},$.default.createElement(ca,{extent:t.metadata.spatialExtent})),t.metadata.links.length>0&&$.default.createElement(Fe,{title:r("components.DatasetView.section.links")},$.default.createElement(Vt,{links:t.metadata.links})))))},t}($.default.PureComponent),Za=Object(ne.translate)("Dataset")(qa),Ka=Za,Ya=a(298),Qa=a.n(Ya),Xa=function(e){function t(){return F(this,t),V(this,e.apply(this,arguments))}return W(t,e),t.prototype.componentDidMount=function(){var e=this.props,t=e.getDataset,a=e.getPublication,n=e.datasetId;t(n),a(n)},t.prototype.render=function(){var e=this.props,t=e.dataset,a=e.publication,n=e.dataGouvDataset,o=e.getDataGouvDataset,r=e.fetchGeoJson;return $.default.createElement("div",null,$.default.createElement(ae.a,{isLoading:t.pending||!t.dataset||a.pending,error:t.error,className:Qa.a.loader},$.default.createElement(Ka,{dataset:t.dataset,publication:a.publication,dataGouvDataset:n,getDataGouvDataset:o,fetchGeoJson:r})))},t}($.default.PureComponent),$a=Xa,en=$a,tn=Object(M.connect)(function(e,t){var a=e.dataset;return{datasetId:t.match.params.datasetId,dataset:a.dataset,publication:a.publication,dataGouvDataset:a.dataGouvDataset}},{getDataset:K,getPublication:Y,getDataGouvDataset:Q,fetchGeoJson:X})(en),an={dataset:{pending:!1,error:!1,dataset:null},publication:{pending:!1,error:!1,publication:null},dataGouvDataset:{pending:!1,error:!1,dataset:null},geoJson:{pending:!1,error:!1,data:null}},nn=(ya={},ya.DATASETS_GET_PENDING=function(e,t){return Object.assign({},e,{dataset:Object.assign({},e.dataset,{pending:!0,error:!1})})},ya.DATASETS_GET_SUCCESS=function(e,t){return Object.assign({},e,{dataset:Object.assign({},e.dataset,{pending:!1,dataset:t.payload,error:!1})})},ya.DATASETS_GET_FAILURE=function(e,t){return Object.assign({},e,{dataset:Object.assign({},e.dataset,{pending:!1,error:t.error})})},ya.DATASETS_GET_PUBLICATION_PENDING=function(e,t){return Object.assign({},e,{publication:Object.assign({},e.publication,{pending:!0,error:!1})})},ya.DATASETS_GET_PUBLICATION_SUCCESS=function(e,t){return Object.assign({},e,{publication:Object.assign({},e.publication,{pending:!1,publication:t.payload,error:!1})})},ya.DATASETS_GET_PUBLICATION_FAILURE=function(e,t){return Object.assign({},e,{publication:Object.assign({},e.publication,{pending:!1,error:t.error})})},ya.DATASETS_DATA_GOUV_GET_PENDING=function(e,t){return Object.assign({},e,{dataGouvDataset:Object.assign({},e.dataGouvDataset,{pending:!0,error:!1})})},ya.DATASETS_DATA_GOUV_GET_SUCCESS=function(e,t){return Object.assign({},e,{dataGouvDataset:Object.assign({},e.dataGouvDataset,{pending:!1,dataset:t.payload,error:!1})})},ya.DATASETS_DATA_GOUV_GET_FAILURE=function(e,t){return Object.assign({},e,{dataGouvDataset:Object.assign({},e.dataGouvDataset,{pending:!1,error:t.error})})},ya.DATASETS_FETCH_GEOJSON_PENDING=function(e,t){return Object.assign({},e,{geoJson:Object.assign({},e.geoJson,{pending:!0,error:!1})})},ya.DATASETS_FETCH_GEOJSON_SUCCESS=function(e,t){return Object.assign({},e,{geoJson:Object.assign({},e.geoJson,{pending:!1,data:t.payload,error:!1})})},ya.DATASETS_FETCH_GEOJSON_FAILURE=function(e,t){return Object.assign({},e,{geoJson:Object.assign({},e.geoJson,{pending:!1,error:t.error})})},ya),on=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:an,t=arguments[1],a=nn[t.type];return a?a(e,t):e};t.default=Object(B.a)("dataset",on)(Object(H.a)("Dataset",function(e){return a(299)("./"+e+".json")})(tn))}});
//# sourceMappingURL=dataset.3665134a2701e0b5289d.js.map